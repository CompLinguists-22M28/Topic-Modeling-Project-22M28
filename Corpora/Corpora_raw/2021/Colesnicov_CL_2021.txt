А. Е. Колесников, Л. А. Малахов
ДИГИТИЗАЦИЯ ПЕЧАТНЫХ МОЛДАВСКИХ ДИАЛЕКТНЫХ ЗАПИСЕЙ
1. Введение

Диалекты и говоры всегда привлекали внимание исследователей
разнообразием фонетических, грамматических и лексических форм.
В 1957–1965 гг. сектор диалектологии Института языка и литературы
АН МССР организовал полевые исследования в местах проживания
молдаван в 240 населенных пунктах на территории СССР.
Собранный на местах материал был включен в Молдавский лингвистический атлас (1968–1973) [3]. Были изданы в 6 томах «Тексте диалектале» [4]. Это первая работа по молдавским диалектам румынского
языка на территории Советского Союза, которая является важным
источником для изучения многих фонетических феноменов и диалектической лексики.
С учетом неоспоримой научной ценности опубликованных диалектных текстов Институт румынской филологии им. Богдана Петричейку-Хашдеу (бывший Институт языка и литературы АН МССР)
инициировал проект [5], целью которого является возрождение диалектных записей как части национально-культурного наследия, доступного в электронной форме.
Использование новых информационных технологий дает ряд
конкретных преимуществ. Автоматизация процесса дигитизации
достигается объединением усилий лингвистов и компьютерных специалистов [2]. В частности, необходимо разработать правила транслитерации фонетических кириллических символов в латинскую
транскрипцию и программное обеспечение.
Этот подход обеспечивает лучшее качество печатной версии (первое издание было напечатано на ротапринте). В дальнейшем может
быть создан электронный корпус диалектных текстов для включения
в более крупные корпусы текстов разного типа на румынском языке,
что сделало бы их еще более доступными и более удобными. Тома диалектных текстов, опубликованные в советский период на кириллице,
обновленные после оцифровки и транслитерации, войдут в серию томов, издаваемых румынскими диалектологами.
Проект является комплексным, средствами ИТ решая филологическую проблему. Данная работа рассматривает разработку и апробацию технологии и программной поддержки переноса диалектных
кириллических фонетических записей из бумажной в электронную
форму на базе IPA. Предполагается последующее переиздание записей
на латинице. В [5] содержится обзор проекта с точки зрения филолога.
В разделе 2 описана применяемая технология оцифровки текстов,
записанных молдавской кириллической фонетической транскрипцией.
В разделе 3 описан разрабатываемый нами на Python конвертор для
транслитерации распознанного текста диалектов румынского языка
из молдавской кириллической фонетической в латинскую транскрипцию на основе IPA.
2. Оцифровка текстов на молдавской фонетической транскрипции

Фонетическая транскрипция для исходного варианта состоит
из кириллицы с некоторыми дополнениями [4: 8–11].
Процесс оцифровки текстов состоит из нескольких этапов: сканирование, постобработка отсканированных ресурсов, подготовка
к распознаванию, распознавание текста (OCR), автоматическая и ручная проверка [2].
На первом шаге было проведено сканирование с разрешением до
600 dpi. На этапе постобработки полученных файлов использовалось
приложение Scan Tailor. Это интерактивный инструмент постобработки отсканированных страниц. Он выполняет такие операции, как разделение страниц, выравнивание, добавление/удаление страниц, преобразование в двоичную форму, очистку и другие функции [6].
На этапе распознавания были разработаны шаблоны со специальным алфавитом, учитывающим символы кириллической фонетической записи, и расширены существующие словари. Использовалась программа ABBYY FineReader v.14 [1]. Мы использовали словарь
из ранее правильно распознанных слов. Следует отметить, что это не
всегда помогало, так как произношение любого слова у разных носителей диалектов бывает непохожим
Автоматическая проверка проводилась в режиме редактирования
с подсказкой из построенного словаря. Вручную исправлялось лишь
около 5–10 % ошибок. На сегодняшний день завершена оцифровка
первого тома книги [4]
Примеры исходного изображения и распознанного текста приведены на рис. 1, 2.
3. Конвертор молдавской кириллической фонетической
транскрипции
После распознавания выполняется транслитерация в заданный
фонетический алфавит. Трудность представляет специфика фонетической транскрипции, использующей буквы с диакритическими знаками над и под буквой, а также позиции символа (суперскрипт). Графические связки проставляются вручную.
Кириллический вариант использует около 80 фонетических символов с 16 диакритическими знаками, плюс еще несколько связок и разделителей, в итоге более 100 символов.
Необходимые символы не всегда есть в шрифтах, и каждый символ
с диакритикой изображается цепочкой до 4 точек Юникода. Транслитерация в ряде случаев зависит от позиции символа в слове (начало,
середина, конец), контекста (соседних символов) и даже от вертикальной позиции символа (нормальный, суперскрипт).
Были разработаны 273 правила транслитерации (табл. 1).
Используемый формат файлов docx также не является простым и требует специального подхода. Для разработки конвертора
был использован язык Python с расширением — библиотекой
Используемый формат файлов docx также не является простым
и требует специального подхода. Для разработки конвертора был использован язык Python с расширением — библиотекой python-docx.
Библиотека предоставляет обертку (wrapper) для внутреннего XML
формата, используемого в docx. Это значит, например, что хотя у нас
есть последовательности абзацев и их отрезков, но ряд операций над
ними не выполняется, так как механизм обертки динамически воспроизводит текстовое содержимое из XML формата.
Например, текст абзаца есть строка, но ее редактирование не отражается в документе; приходится присваивать строку внешней переменной, править последнюю, а потом переприсваивать полученный
текст пустому абзацу. Также приходится отслеживать и переносить
в конвертированный текст ряд атрибутов исходного документа, причем на всех уровнях, от документа в целом до отрезков абзаца включительно.
В программе транслитерации требовалось учесть ряд особенностей, осложняющих обработку распознанного текста.
Например, программа распознавания, а также человек, правящий
текст после распознавания, иногда вставляют вместо кириллических
символов одинаковые по начертанию латинские. Программа является
таблично управляемой, и это можно учесть в таблицах. Такое решение повлекло бы повтор информации и заметное увеличение объема
таблиц, и при отладке таблиц исправления пришлось бы вносить в нескольких местах.
Поэтому до выполнения транслитерации в дополнительном проходе по тексту все символы одинакового начертания заменяются на
кириллицу. Латиница считается ошибкой, подлежащей исправлению.
Это допустимо, так как текст является фонетической записью с минимальными пояснениями.
Более сложное явление — неоднозначность порождения символа
при наличии нескольких диакритических знаков. Например, символ
с двумя диакритическими знаками может быть порожден тремя способами (рис. 3).
В стандарте (Юникод) для таких случаев предусмотрена «каноническая декомпозиция», то есть строго определенный порядок добавления диакритик (курсив на рис. 3).
Символы исходного текста подвергаются канонической декомпозиции. В таблицу вносится предписанный стандартом вариант. После
подстановки латиницы выполняется обратная операция («каноническая композиция»).
Символ «й» считается составным и превращается в «и» с диакритикой, становясь гласным, что неверно в нашем случае. Поэтому
в программе «й» исключен из декомпозиции.
Каноническая декомпозиция также выполняется на отдельном
проходе по тексту
Программа до собственно подстановки латинских эквивалентов
взамен кириллицы из таблицы выполняет шесть дополнительных
просмотров текста:
• замена символов, которых не может быть в фонетической
записи;
• замена символов из эпизодически используемого в кириллическом тексте нестандартного шрифта;
• замена латиницы, каноническая декомпозиция и перевод текста
в нижний регистр;
• замена суперскрипта на верхний регистр для простоты обработки;
• контекстная замена сочетаний, содержащих небуквенные символы;
• устранение пробелов перед диакритикой.
• Фрагмент страницы после транслитерации и простановки графических связок показан на рис. 4.
4. Заключение
Книга «Тексте диалектале» состоит из 6 томов. Мы распознали первый том, получили набор шаблонов распознавания, пользовательский
фонетический алфавит, словарь лексики для автоматизации проверки. Разработали конвертор для представления распознанного текста
диалектов румынского языка, записанных кириллической фонетической транскрипцией, на основе выявленных правил транслитерации.
Дальнейшая работа предполагает исследование молдавских диалектов румынского языка посредством дигитизации и транслитерации остальных томов диалектных записей. Оцифрованные и транслитерированные материалы будут размещены на сайте проекта, а также
напечатаны по мере возможности.