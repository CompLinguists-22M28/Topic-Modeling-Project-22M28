К.Д. Зайдес
ОБ УНИФИКАЦИИ РАЗМЕТКИ КОРПУСА «СБАЛАНСИРОВАННАЯ АННОТИРОВАННАЯ ТЕКСТОТЕКА» 
1. Корпус «Сбалансированная аннотированная текстотека»: история формирования и структура
Корпус «Сбалансированная аннотированная текстотека» (САТ) является масштабной базой данных по устной спонтанной монологической речи носителей русского языка и изучающих русский язык. Корпус формировался с 1997 года, когда началась запись первого его блока, включающего речь женщин-медиков разного возраста и медицинской специализации (от медсестер до кандидатов медицинских наук), всего – 150 монологов. Информанты читали и пересказывали сюжетный и несюжетный тексты, описывали сюжетное и несюжетное изображения, рассказывали о том, как проводят свободное время; таким образом, от каждого говорящего было записано 7 монологов, построенных по различным коммуникативным сценариям. После записи полученные монологи расшифровывались в орфографическом виде; в расшифровках с помощью специальных помет отмечались некоторые характерные явления устной спонтанной речи.
После записи первого блока САТ, корпус пополнился записями речи юристов, разного пола, возраста, специализации (201 монолог). В дальнейшем для корпуса были записаны следующие блоки: речь преподавателей РКИ (32 монолога); речь преподавателей-философов (12 монологов); речь смешанной профессиональной группы (сбалансированной по иным социальным характеристикам) (12 монологов); речь студентов (филологов и нефилологов) (172 монолога); речь «компьютерщиков» (28 монологов).
Помимо этого, в корпусе появился новый блок – русская интерферированная речь иностранцев, т. е. монологи носителей других языков, как на русском, так и на их родном языке, посвященные одной и той же теме («Ваши впечатления о Петербурге»): 50 монологов от носителей китайского языка и по 16 монологов от голландцев, американцев и франкофонов. Разметка явлений спонтанности в этом блоке в основном соответствовала тем принципам и тегам, которые были приняты при записи другого корпуса спонтанной речи, созданного в СПбГУ, – «Один речевой день» (ОРД). Именно этот тип разметки должен был стать единым, унифицированным для двух корпусов речи, в целях их дальнейшего исследования и планомерной систематизации материала.
Тексты, входящие в корпус САТ, впоследствии издавались в виде отдельных сборников [Русская спонтанная речь… 2008, 2010, 2011, 2018]; планируется издание и других блоков корпуса. Подробнее о корпусе и исследованиях, выполненных на его материале, см.: [Звуковой корпус… 2013].
На данный момент корпус содержит 705 монологов разного типа, среди них 72 чтения текста, 224 пересказа текста, 254 описания изображения и 155 свободных рассказов, записанных от более чем 200 информантов. Однако характеризующийся полнотой и сбалансированностью корпус не был унифицирован по пометам, которые используются для маркирования различных спонтанных явлений устной речи. Вследствие этого была предпринята необходимая унификация основных тегов корпуса, которые использовались аннотаторами при расшифровке не согласованно, так как корпус записывался с перерывами.
Кроме того, перед началом работы по приведению расшифровок к единому виду, корпус необходимо было собрать в единую базу данных, поскольку до этого он существовал в виде разрозненных расшифровок и прилагаемых аудио-файлов, опубликованных в сборниках или ученических работах. С этой целью была создана таблица, в которую были внесены как сами монологи, так и информация о текстах и говорящих, что послужило первичной метаразметкой корпуса. Таким образом, в текущей базе хранятся сам текст монолога и сведения о его типе, а также номер, пол, возраст, профессиональная принадлежность информанта, определенный исследователями УРК говорящего и данные о его психологическом типе (экстраверсия/интроверсия, уровень нейротизма и тип темперамента, определенный на основании первых двух характеристик). Фрагмент полученной таблицы представлен на рис. 1.
Рис. 1. Фрагмент таблицы, содержащей размеченные тексты САТ
2. Процесс, принципы и проблемы унификации корпуса «Сбалансированная аннотированная текстотека»
Перед началом работы по унификации помет было определено, что для маркирования одних и тех же явлений разными аннотаторами использовались разные знаки расшифровки. Так, например, для обозначения незаполненной паузы хезитации использовались следующие символы: ∫, ɭ, (), (...), <...>. Символы ∫, ɭ обозначали короткие паузы хезитации, заминки, остальные – длинные незаполненные хезитационные паузы. В силу того что блоки корпуса создавались разными собирателями для разных исследовательских целей, с долгими временными интервалами, несогласованность обозначений в разметке затрагивала как собственно фонетические явления (по-разному маркировались паузы, растяжки звуков, обрывы фраз), так и паралингвистические характеристики речи.
В процессе унификации текстов корпуса был принят следующий список помет (сходный с тем, что используется в корпусе ОРД [Asinovsky et al. 2009]) – специальных тегов, отмечающих значимые для дальнейших исследований особые черты устной спонтанной речи (табл. 1).
Таблица 1. Список помет для унификации корпуса
Помета	Явление
/	короткая пауза
//	длительная пауза
()	короткая пауза хезитации, заминка
(...)	длительная пауза хезитации
(а-а), (м-м), (э-э) и т.п.	заполненные паузы хезитации
*С	смех
*О	вздох
*К	кашель
*Н	неразборчивая речь
*Ц	цыканье языком
…	обрыв слова (ставится без пробела)
…	обрыв фразы (ставится с пробелом)
(:)	растяжка звука
[речь экспериментатора]	специфическая для монологической речи помета
При обработке текстов корпуса осуществлялась автоматизированная замена помет на унифицированный их набор, приведенный выше. Это позволит в дальнейшем работать с двумя корпусами устной речи – САТ и ОРД, – пользуясь единой системой разметки, и полноценно сравнивать полученные данные.
На первом этапе унификации знаков разметки в таблицах, содержащих тексты САТ и структурную и метаразметку, были автоматически заменены те элементы, которые могли быть подвергнуты автоматической замене в рамках программы Excel, а именно: короткие и длительные паузы хезитации, а также заполненные паузы хезитации, которые в исходных текстах не всегда заключались в скобки. В некоторых случаях заполнение паузы хезитации отмечалось с помощью более чем 2 букв, например, э-э-э. Для таких примеров пришлось сначала заменить их на эквивалентные, но заключенные в скобки, а затем удалить из них лишнюю букву автоматической заменой на выражение без нее.
На втором этапе осуществлялось приведение к единому виду знаков расшифровки, передающих паралингвистические явления, которые не могли быть заменены автоматически. Эти знаки, отражающие смех, кашель, вздох, а также неразборчивый фрагмент расшифровки, заключались в исходных текстах в разного вида скобки: <>, (), [], – и должны были быть в итоге заменены на кириллические буквы с астериском: *С, *К, *О, *Н. Для учета всех вариантов написания рассматриваемых помет в текстах корпуса, был создан список всех возможных вариантов символов, нуждающихся в замене. Для осуществления замены было создано регулярное выражение, написанное на языке программирования Python. Данный язык программирования был избран в связи с наличием удобной библиотеки Pandas, предназначенной для эффективного оперирования с таблицами. После тестирования корректности работы выражения и осуществления замен, в результате был получен унифицированный по пометам, отмечающим паралингвистические явления, корпус.
Однако после унификации всех рассмотренных помет оставался один тег, для замены которого требуется учет исключений, существующих в русском языке. В корпусе САТ для обозначения растяжек (продлений) звуков в речи использовалось дефисное написание удлиняемого звука, например:
•	понял что его заманили в ветеринарн-ную лечебницу;
•	Зина! // держи его! мерзавца! за шиворот! / с-скотина!
В корпусе ОРД традиционно, с начала его формирования, растяжки звука отмечались знаком (:), и именно к этому эталону должна была быть приближена разметка унифицируемого корпуса. При автоматической замене любых кириллических символов такого рода, разделенных дефисом, не будут учтены следующие исключения:
1)	заполненные паузы хезитации: (м-м), (э-э) и т. п.;
2)	стыки как разных, так и однородных по типу звуков, графически разделяемых дефисом (какой-то, кот-то поел? и т. д.).
Ручная замена данных символов методом сплошного прочтения и замены исключена в силу большого объема входящих в корпус текстов и относительной частотности случаев растяжки звука.
Предполагается, что исключение тех случаев, когда замена написания с дефисом на соответствующий знак растяжки (:) происходить не должна, может достигаться следующим решением. Во-первых, необходимо учитывать левый и правый соседний символы, не производя замену тогда, когда через 1 символ от дефиса есть открывающая или закрывающая скобки. Таким образом решается первая из озвученных проблем.
Полного решения второй проблемы – разграничения тех случаев, где графический дефис не отражает растяжку звука, – пока не найдено. Поскольку растягиваемый звук отражается на письме одной и той же буквой, при разработке алгоритма следует сразу исключить из рассмотрения те варианты написания слов, где слева и справа от дефиса стоят разные по качеству (месту и способу образования) звуки. Однако ситуация осложняется тем, что расшифровщики иногда отмечали растяжку «фонетически», оставляя на первом месте ту букву, которая должна быть написана в данном слове, но после дефиса ставили не букву, а, фактически, растянутый звук, ср.:
•	рассвет в такие дни / не-э () пылает // заревом.
Кроме того, даже если оставить эти случаи для последующей ручной коррекции автоматически унифицированной разметки корпуса, все равно необходимо сделать еще одно исключение. Так, иногда в русском языке некоторые частицы, отделяющиеся от слова, к которому они присоединяются, дефисом, начинаются с той же буквы, на которую заканчивается слово:
•	вот как он одет-то / неплохо / ну вот.
Отметим, что растягивание глухих согласных в русском языке затруднено, однако вполне характерно для устной речи. Конечно, чаще всего в речи встречаются удлиняемые гласные и сонорные согласные, которые не смешиваются с дефисными написаниями некоторых частиц. Таким образом, перед последним этапом разметки необходимо задать список слов-исключений, тем самым решив проблему тех замен, которые будут произведены по ошибке.
