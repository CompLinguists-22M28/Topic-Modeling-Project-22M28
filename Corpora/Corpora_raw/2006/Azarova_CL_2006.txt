И.В. Азарова, Е.Л. Алексеева, Л.А. Захарова
РАЗМЕТКА ТЕКСТОВЫХ ФРАГМЕНТОВ В КОРПУСЕ АГИОГРАФИЧЕСКИХ ТЕКСТОВ СКАТ 
Корпус СКАТ (Санкт-Петербургский корпус агиографических текстов XVI–XVII вв.) создается на кафедре математической лингвистики СПбГУ с конца 70-х годов XX в. К настоящему времени корпус охватывает 52 жития, их общий объем – более 500 тыс. словоупотреблений. 
С конца 90-х годов XX в. кафедра математической лингвистики СПбГУ издает житийные тексты в серии «Памятники русской агиографической литературы». В каждой книге серии текст одного или нескольких связанных между собой житий сопровождается указателем словоформ, текстологическим очерком, историческими сведениями о святых и основанных ими обителях. Текст жития воспроизводится по одному списку, но этот список выбирается не случайно. При издании текстов мы тесно сотрудничаем с литературоведами, которые исследуют всю рукописную традицию издаваемых житий, выделяют различные редакции текста, определяют лучшие списки. Их рекомендациями мы и руководствуемся, останавливая свой выбор на той или иной рукописи. Для всех неясных мест, неизбежно встречающихся в любой рукописи, мы обязательно приводим в аппарате чтения еще двух-трех списков, что позволяет представить текст жития практически в идеальном виде. В издании графика оригинала воспроизводится без какого-либо упрощения: полностью сохраняется используемый писцом набор букв и надстрочных знаков, не раскрываются сокращенные написания под титлом или с выносными буквами, ошибочные написания комментируются, но не исправляются. Словоуказатель к текстам формируется автоматически, и в нем словоформы представлены в упрощенной форме, что позволяет добиться уменьшения числа графических вариантов одной и той же словоформы.
На данный момент вышло в свет уже 7 выпусков серии, содержащих 10 житий вологодских святых. Работа продолжается.
Поскольку выпуски серии издаются небольшим тиражом, мы создали на сайте факультета страничку, посвященную корпусу СКАТ (http://project.phil.pu.ru/skat/). Помимо собственно текстов житий представлена информация о нашем проекте: история его создания, имена участников, принципы представления рукописного текста, особенности представления словоформ в словоуказателе. Тексты изданных житий на сайте сейчас представлены в формате PDF, но в ближайшее время они станут доступны и в формате XML, однако эта версия не будет окончательной, так как мы продолжаем работать над тем, как ее сделать максимально информативной. 
Сводный указатель словоформ к житиям обеспечивает поиск слов по всем текстам, причем поиск возможен как на основе строгого, так и нестрогого соответствия. На запрос пользователя выдается список всех словоформ, удовлетворяющих условиям поиска, и по указанным адресам можно автоматически перейти к соответствующим фрагментам текста. Сейчас мы работаем над тем, чтобы свести к минимуму графический разнобой в передаче одних и тех же словоформ.
Принципы представления рукописного текста в корпусе и словоуказателе
С самого начала работы с рукописями мы ставили перед собой задачу как можно более точного воспроизведения рукописного текста. Мы разработали кодировку, которая позволяла передать все буквы кириллического алфавита, включая дублеты (например ук в виде диграфа или лигатуры), воспроизвести такие характеристики текста, как деление на строки, столбцы и листы, особым образом отразить выносные буквы, маргиналии, заголовки, ошибочные написания, зачеркнутый текст, имена собственные, числа. Вместе с тем мы никогда не ставили перед собой задачу воспроизвести текст с факсимильной точностью, так как во главу угла ставилась задача сохранения целостности текста.
Проблему линейной интерпретации текста средневековой рукописи мы обсуждали на предыдущей конференции : ключевыми вопросами являются (а) набор различаемых графических знаков; (б) принципы словоделения; (в) принципы представления ошибочных написаний в рукописи. 
Представление текста жития в электронном виде предполагает решение ряда содержательных задач. 
Отражение графики рукописи в корпусе и словоуказателе
Для представления рукописных текстов в корпусе нами была самостоятельно разработана система отображения древнерусской графики, которая позволяет воспроизводить текст с высокой степенью приближения к оригиналу. В нашем шрифте, который называется AGIO, есть все буквы кириллицы и их семантически значимые варианты (например, узкое и широкое «о» и т.п.). Воспроизводятся титла, титловые покрытия, паерки, знаки придыхания и акцентные знаки. В шрифте предусмотрена возможность воспроизведения выносных букв, в том числе с надстрочными знаками, и инициалов. 
В формате XML текст рукописи на данном этапе представляется с меньшей степенью подробности, что связано с техническими проблемами, например, не все графемы, которые мы различаем как значимые, имеют соответствия в стандарте Юникод, в нем отсутствуют варианты написаний букв. По той же причине из надстрочных знаков в формате XML сохраняются только титла и титловые покрытия. На международной конференции в Ижевске в июле 2006 г. было принято решение обратиться в комиссию Юникод с просьбой реформировать имеющуюся страницу кириллицы (и глаголицы) или создать новый вариант кодировок, который устраивал бы всё научное сообщество. Для решения ряда насущных задач в области описания, исследования, сохранения, популяризации и публикации с помощью современных технологий древнерусских памятников (а также письменного наследия народов РФ и Европы древнейшего, средневекового и преднационального периодов) предполагается создать общественную организацию «Межрегиональная ассоциация “Письменное наследие”» с центром в Ижевске. 
В XML-представлении особые символы древней кириллицы передаются как «сущности»: &cyr-small-ot; &cyr-small-omega; и проч., что позволяет впоследствии соотнести их с любой из кодовых таблиц стандарта Юникод. Слова представлены линейно, поэтому выносные буквы вставлены на свое место по смыслу, а о том, что они являются выносными и снабжены или не снабжены покрытием отмечается особыми атрибутами. Для слов под титлом указывается наличие титла в виде тега слова, но особо не оговаривается его положение над словом. Для каждого слова приводится  его нормализованная форма (маркер <reg>) – та форма, которой слово представлено в словоуказателе.
В словоуказателе вид словоформы упрощается максимально, так как именно словоуказатель обеспечивает поиск словоформ по тексту, и чем выше уровень нормализации облика словоформы, тем большее количество ее вхождений в тексты удастся найти с одного захода. Во-первых, в алфавите словоуказателя из нескольких способов обозначения одной фонемы оставлен один, т. е. он отличается от современного русского алфавита только наличием «ятя» и отсутствием «Э» и «Й», а, во-вторых, словоформа в указателе приводится без надстрочных знаков.
Представление линейной структуры документа
Мы предлагаем представить в формате XML два варианта линейного структурирования текста: формальную структуру (рукопись – лист – колонка – строка – слово) и содержательную (главы, заголовки, цитаты, имена собственные и т.п.).
Формальная линейная структура житийного текста
Формальная линейная структура собственно текста памятника задается 5 уровнями деления. Основной текст рукописи подразделяется на части (Part="1|2") – это нулевой уровень членения (div0): в первую часть входит собственное житие святого, вторая часть – описание чудес. Как правило, жития и чудеса даются по одному списку, но, например, в Житии Павла Обнорского в более раннем списке отсутствовали чудеса, а в более позднем, содержащем большое число чудес, текст собственно жития изобиловал разного рода ошибками и искажениями, поэтому в издании житие и чудеса приводились по двум разным рукописям.
Следующий уровень деления текста жития / чудес (div1) – разбиение на листы (Page="N"), атрибутом которых является номер. Поскольку на рукописном листе различается адресация лицевой (PageFront) и оборотной стороны (PageBack), это деление (div2) задается на следующем уровне. Далее указывается деление (div3) на колонки (Col="1|2") и (div4) строки (Line="N"). 
В словоуказателе в качестве ссылки приводится номер листа и строки, а положение словоформы в строке не имеет значения. Если слово перенесено с одной строки на другую (аналогично, из одной колонки на другую или с одной стороны листа на другую), адрес в словоуказателе дается по вхождению начала слова. В  XML представлении место разрыва помечается тегом <lb\>.
В тех случаях когда текст расположен с нарушением линейности – когда тот фрагмент строки, который должен читаться позже, предшествует тому, который должен читаться раньше, для нас важнее сохранение целостности текста, чем воспроизведение его оформления, мы воспроизводим текст в том порядке, в каком он читается. В тексте издания подобные случаи комментируются. Как правило, линейные разрывы в тексте рукописи записаны киноварью, это подзаголовки, которые выделяются в издании разрядкой и помещаются в центре отдельной строки. 
Особый случай представляют вставки с полей: это может быть текст, пропущенный по ошибке писцом или добавленный позже редактором, при этом место вставки в тексте всегда отмечается особым знаком. При издании текста рукописи все вставки с полей вносятся в текст в соответствии с указанием писца или редактора, они заключаются в квадратные скобки и, если это необходимо, снабжаются комментарием.
В формате XML фрагмент, вставленный с полей, помечается тегом добавления (add) с соответствующим атрибутом, указывающим его расположение на полях (place="margin")
В словоуказателе в качестве адреса для слов, внесенных с полей, указывается номер строки, в которую они вставляются, и ссылка помечается индексом М.
Выделение текстовых фрагментов 
1. Тексты житий писались не произвольным образом, автор следовал определенному канону, сложившемуся в этом жанре. Выпускница кафедры математической лингвистики Е.С. Иванова исследовала тексты 14 житий святых – основателей монастырей и выявила эпизоды, из которых складывается сюжет жития: вступление, сведения о родителях, рождение святого, младенчество, учение грамоте, проявление богоизбранности, решение уйти в монастырь и т.д. Необязательно все эти элементы сюжета представлены в житии, иногда автор объясняет причины отсутствия того или иного эпизода. Эпизоды могут снабжаться заголовками.
2. Следующий важный для агиографического жанра текстовый фрагмент – это цитата. Цитаты в житийных текстах бывают двух типов. 
Первый тип – библейские и святоотеческие цитаты. Цитата может быть оформлена как таковая явным образом с конкретным или обобщенным указанием на источник цитирования, она может вплетаться в ткань повествования, точно передавая библейский текст или перефразируя его. 
Отдельной проблемой является выявление цитаты, определение ее объема, однозначного (или неоднозначного – в случае параллельных мест) соотнесения с библейским текстом. Цитаты можно оформлять, используя теги <listBibl>, <bibl>; границы цитаты могут быть заданы по общей для словосочетаний схеме через тег (seg) с атрибутом (type="bibleCitation").  
Второй тип цитат – воспроизведение в житии фрагментов текста других житий. Они могут быть значительного объема: в предисловии к Житию Александра Куштского воспроизводится с искажениями предисловие к Житию Дионисия Глушицкого, при этом возникает большое количество аграмматизмов. 
Объем цитируемого фрагмента будет оформлен так же, как и в случае цитирования библейского текста за исключением атрибута типа  type="hagioGraphCitation", ссылка на цитируемый фрагмент задается тегом <span> с атрибутами from="xref" и to="xref". Ссылка xref содержит адрес XML-представления соответствующего жития и порядковые идентификаторы слов начала и конца фрагмента.
3. Для житийного жанра характерно использование своего рода клише, устойчивых словосочетаний и предложений. Они представляют особый интерес, поскольку позволяют выделить ключевые понятия, которые в дальнейшем можно объединить в некоторую схему-тезаурус. В настоящее время стоит задача фиксации таких клише в житийных текстах, чтобы затем определить степень их варьирования и наличие инварианта.
В первую очередь заслуживают внимания повторяющиеся в разных житиях фразы, например, выражение труды къ трудомъ прилагати (глагол может стоять в разных формах) встречается практически во всех житиях. В тексте жития необходимо отметить границы клише, что можно сделать по описанной схеме разметки текста, используя специальный атрибут type="term". Для клише следует выбрать форму представления: она может совпадать с наиболее значимым текстом (который регулярно цитируется в более поздних памятниках) или канонической современной/ древнерусской формулировкой клише. Выделенные клише хранятся в виде «терминологических» записей  (<termEntry>), которые могут характеризоваться каноническим вариантом клише (<term>) с его порядковым номером-атрибутом (n="N"), текстовым описанием (<descrip>) и связями подчинения  (<depend>), указывающими на подчинение «термину» с заданным идентификатором.
4. На уровне слов особым образом отмечаются имена собственные и числительные.
Имена собственные оформляются особым тегом (name) и помещаются в отдельной области словоуказателя. 
Буквенное обозначение количественных или порядковых числительных отмечается тегом (num) и не включается в словоуказатель. Специальный атрибут указывает тип числового выражения (type="cardinal|ordinal"), а атрибут (value="1") задает числовое значение. Порядковые числительные, состоящие из буквенного обозначения числа и текстовой флексии, представляются в виде текстовых частей: указатель тысяч (factor), собственно число (cipher), окончание (ending). Число, как правило, оформляется титлом, которое будет использовано в качестве атрибута. Иногда числовое выражение включает знаки препинания: точки или запятые. 
5. Границы слов в отдельных случаях невозможно задать без определенной «реконструкции» текста. Это, в первую очередь, случаи фузионного стяжения: когда повторяющиеся букв в конце предлога и начале следующего знаменательного слова усекаются – в рукописи остается лишь одно вхождение (в издании такие случаи специально помечаются, например, по_(д)рево(м). Такие фрагменты выделяются специальным тегом (seg) со специальным атрибутом (type="fusion"), после которого приводится «слитная» реализация (orig), а затем приводятся описания слов с нормализованным видом текста (reg). Аналогично записываются ошибочные написания – слитные реализации (type="error"): живоналная вместо живоначалныя. 
