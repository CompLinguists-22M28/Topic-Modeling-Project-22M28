ФУНКЦИОНАЛЬНАЯ РАЗМЕТКА
КОММУНИКАТИВНЫХ ДЕЙСТВИЙ В КОРПУСЕ «REC» 
1. Подходы к описанию коммуникативных функций
Мультимодальные корпуса, включающие видо- и аудиозаписи человека, являются важной базой как для фундаментальных исследований коммуникации, так и для прикладных областей: для создания нового поколения интерфейсов, распознающих наряду с речью жесты и мимику человека, а также выражающих эмоции и коммуникативные цели не только в речи, но и с помощью сложных поведенческих паттернов (подробный обзор проектов корпусов приводится в [Erekoviæ, 2012]). Вместе с тем, невербальное коммуникативное поведение человека весьма разнообразно и, на первый взгляд, достаточно плохо структурировано. Если в речевом потоке традиционный лингвистический анализ позволяет выделить слова, отнести эти слова к грамматическим категориям и построить синтаксические структуры, то для невербального поведения аналогичные задачи представляют трудности. Невербальное поведение достаточно плохо сегментируется, выделенные сегменты трудно отнести к надежному списку категорий, сложно построить структуры, объединяющие эти сегменты. Для преодоления этих трудностей используются разные подходы. С одной стороны, в корпусах размечаются «поверхностные» (базовые) элементы выражения: элементы мимики и жесты, обладающие фиксированной семантикой. С другой стороны, в проектах корпусов, где собрана игра актёров, непосредственно задаются элементы «глубинной» разметки, например, актёров просят произнести бессмысленную фразу, выразив при этом определённую «базовую эмоцию» из инвентаря П. Экмана: удивление, страх, отвращение, гнев, радость или печаль. Такой подход, к примеру, используется в корпусе GEMEP [Bänziger, Scherer, 2007].. Ориентация проектов корпусов на создание компьютерных агентов подсказывает ещё один метод верификации разметки. Набор категорий, предложенный для разметки корпуса, может быть применён для синтеза поведения – если синтез даёт «правдоподобные» результаты, то это подтверждает надёжность предложенной схемы разметки [Rehm, André 2008]. В нашей работе мы представляем набор категорий для функциональной разметки коммуникативных действий, а также используем этот набор, чтобы построить аналог генеративной грамматики, порождающей последовательности коммуникативных действий в среде Prolog.
2. Русский эмоциональный корпус REC и разметка коммуникативных функций
Собранный нами «Русский эмоциональный корпус» (Russian Emotional Corpus – «REC») включает более 800 видеозаписей общения людей в реальных эмоциональных ситуациях: на устных университетских экзаменах и на приёме населения по вопросам оплаты коммунальных платежей [Котов 2015]. Для разметки используется программа ELAN . В корпусе REC на разных слоях размечаются: (а) речь участников коммуникации, дополненная прагматической информацией, (б) мимика и движения глаз (продолжительностью более 0,5 с), (в) жесты и движения рук. Всего в корпусе более 160 000 элементов разметки . Мимика, жесты и движения рук во многих случаях могут передавать информацию в коммуникации, в этом случае мы считаем, что движения обладают некоторой коммуникативной функцией. Разметка коммуникативных функций является дополнительным блоком, который приписывает новые параметры аннотациям из базовой разметки корпуса. Коммуникативные функции размечаются в корпусе для всех движений, которые (а) специально выполняются для выражения некоторой функции или (б) могут быть однозначно поняты адресатом как выражающие некоторую функцию. С помощью функциональной разметки мы также описываем движения головы и тела человека – базовая разметка у этих элементов в корпусе отсутствует, что связано со сложностями с классификацией этих движений. В корпусе используются 35 тэгов функциональной разметки (см. Таблицу 1), к настоящему времени размечено 5500 вхождений коммуникативных функций в 61 файле. 
Таблица 1. Коммуникативные функции в корпусе REC
Коммуникативная функция	Описание
понимание, согласие, одобрение 	понимание адресантом слов собеседника, согласие или одобрение действий собеседника
отрицание, несогласие, возражение 	выражение отрицания, знаки несогласия со словами собеседника, обозначение исправлений к собственной речи
апелляция 	усиление воздействия на собеседника некоторого аргумента, высказанного в речи 
побуждение 	знак собеседнику начать действовать 
ожидание обратной связи 	краткий вопрос собеседнику, переспрос, запрос обратной связи
остановка адресата 	знаки, направленные на остановку собеседника
отсутствие, невозможность 	демонстрация отсутствия какого-либо объекта или невозможности действовать
обратная связь 	краткий знак понимания слов собеседника
привлечение внимания 	знаки, направленные на привлечение внимания собеседника к адресанту или к объекту речи
демонстрация непонимания 	знаки, выражающие непонимание и направленные на воздействие: попытки заставить собеседника повторить вопрос, проявить снисхождение и т.д.
демонстрация неадекватности адресата	знаки, выражающие отрицательную оценку слов или действий собеседника, их неадекватность
дистанцирование 	значимое увеличение дистанции в коммуникации 
указание на объект 	мимический паттерн, движение глаз, головы или тела с целью указания на объект
выбор варианта 	выражение колебаний при выборе из альтернатив
стимулирование 	действия, подталкивающие адресанта или собеседника к ответу или решению задачи
компенсация, закрытие 	действия, с помощью которых адресант скрывает глаза, рот, другие части лица; улыбки и смех, направленные на снижение категоричности речевого высказывания
Коммуникативные функции, связанные с выражением внутренних состояний (7 типов)	воодушевление, расслабление/удовлетворение, смущение/фрустрация, хезитация, радость, умиление/сочувствие, размышление
Коммуникативные функции, связанные с воздействием на адресата (6 типов)	попытка вызвать у собеседника позитивные чувства по отношению к объекту, попытка вызывать у собеседника симпатию к адресанту, попытка вызвать у собеседника сочувствие или снисхождение по отношению к адресанту, попытка снизить важность события или объекта для собеседника («ты-пренебрежение»), попытка успокоить адресата, попытка спровоцировать негативные переживания собеседника (устыдить, напугать)
Коммуникативные функции, сопровождающие речь (4 типа)	эмфаза, указание на референт, операция с референтом, замена референта
другое 	остальные случаи
3. Структура паттернов коммуникативного поведения
Большинство коммуникативных функций не привязаны к единственному способу выражения: они могут выполняться жестами, мимикой, движениями головы или тела. Так, для выражения функции «отсутствие, невозможность» человек поднимает плечи, закрывает глаза, поднимает брови и обращает руки ладонями вверх в стороны от себя. В реальном поведении можно наблюдать отдельные элементы этого паттерна: человек может только поднимать брови, только пожимать плечами или только демонстрировать ладони – таким образом общий паттерн может «распадаться» и выражаться лишь отдельными частями. Другим примером является функция «ты-пренебрежение», с её помощью говорящий стремится преуменьшить ущерб социальному лицу адресата или сохранить своё лицо при высказывании сомнительного тезиса – это аналог высказывания Да ну, это не важно. Человек при этом хмурит брови, прищуривается, машет рукой (ладонью вниз или от себя), может имитировать плевок, выдувать воздух или цокать, может дистанцироваться корпусом, отворачивать голову или отклонять голову назад – таким образом, демонстрируя знаки избегания. Функциональная разметка корпуса позволяет найти все эти разнородные проявления и в результате анализа описать их как проявления одного общего паттерна. 
4. Проблема генерации коммуникативного поведения
В классической генеративной грамматике нетерминальные символы (S, NP, VP, N, V и т.д.) использовались в правилах порождения (S → NP + VP) для развёртывания синтаксической структуры предложения и далее заменялись на терминальные символы – слова языка (N → мальчик, книга, V → читать). Следуя принципам генеративной грамматики, мы используем предложенный набор классов функциональной разметки для создания на языке Prolog порождающей грамматики, генерирующей паттерны коммуникативного поведения. Некоторая коммуникативная ситуация (например, «входящий сложный вопрос» – коренной нетерминальный символ) порождает ряд коммуникативных функций (нетерминальных символов), характерных для этой ситуации, которые далее заменяются на конкретные способы выражения (терминальные символы). В результате могут порождаться последовательности функциональных классов и соответствующие им способы выражения, как пример в Таблице 2.
Таблица 2. Порождаемые коммуникативные функции в ситуации ответа на входящий вопрос и их выражение (пример)
Коммуникативная функция	Способ выражения
остановка адресата – пытается предотвратить возможную критику	останавливающий_жест_01
воодушевление – готовится приступить к решению задачи	облизывается_01, побнимает_брови_01
размышление – поиск ответа, решение задачи	чешет_голову_01, дистанцируется_01, смотрит_вбок_01
воодушевление – готовится отвечать	облизывается_01
<ответ> – отвечает	текст_ответ_
компенсация/закрытие – смущается из-за неуверенности в ответе	отворачивается_01, закрывает_глаза_01,
трогает_нос_01
попытка снизить важность события (ты-пренебрежение) – стремится сохранить социальное лицо в случае неверного ответа	машет_рукой_02, морщит_нос_01
Использование общего набора классов при разметке коммуникативных действий в корпусе и при создании генеративной грамматики позволяет с большей надёжностью разрабатывать общую модель коммуникативного поведения человека для дальнейшего приложения в новом поколении систем автоматического поддержания диалога.
