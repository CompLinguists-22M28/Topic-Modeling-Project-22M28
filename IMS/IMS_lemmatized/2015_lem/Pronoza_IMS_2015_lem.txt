аспектный анализ отзыв о ресторан для рекомендательный система е-туризм е.в. проноза, е.в. ягуновый санкт-петербургский государственный университет {katpronoza, iagounova.elena}@gmail.com 1. введение в настоящий время чрезвычайно востребовать являться задача автоматический анализ мнение пользователь о товар или услугах. анализ пользовательский оценка позволять оперативно принимать решение о продажа товаров, о изменение план внедрение услуга и маркетинговый политика компания в целом. в частности, очевидный актуальность автоматический анализ мнение пользователь в сфера e-туризма. в дать работа представить аспектно-ориентировать метод анализ тональность отзыв о ресторанах, который мочь использоваться в рекомендательный система в сфера e-туризма. цель работа – разработка метод анализ тональность слабоструктурировать текст для система автоматический понимание текст в сфера e-туризма. предложить метод мочь применяться не только для создание рекомендательный система в сфера e-туризма, но и для система автоматический понимание текст вообще, где текстовый дать слабо структурировать и принадлежать разговорный стилю. в дать работа показано, что использование словарей, автоматически или вручную создать на основа корпус отзывов, позволять улучшить качество модель извлечение ряд аспект ресторана. 2. анализ тональности: существующий подход как и в любой другой задача и область автоматический обработка естественный языка, основной использовать метод делиться на метод на основа правил, на основа статистика и гибридный методы. что касаться правил, обычно подобный подход подразумевать использование семантический тезаурус (например, wordnet-affect, sentiwordnet, senticnet), в то время как статистический метод позволять решить данный задача даже при полный отсутствие подобный ресурсов. так как мы преследовать статистический подход к анализ тональность отзывов, мы быть провести исследование модель обучение с учителем, который использоваться в дать задаче. 2.1. классификатор как выяснилось, частый весь для анализ тональность текст использоваться наивный байесовский классификатор и метод опорный векторов. при это типичный постановка задача заключаться в том, что необходимо провести классификация мнение о фильм или товарах, о политический фигура или событие (в блоге, твит и т.д.) на положительный и отрицательные. наивный байесовский модель обычно использоваться как базовая, простейшая, а метод опорный вектор – как более сложная, так как он считаться более эффективным. однако бермингем и смитон [3] и ванг и маннинга [25] показали, что наивный байесовский классификатор демонстрировать хороший показатель по сравнение с метод опорный вектор на короткий текстах, например, на твитах. кроме того, в некоторый работа предлагаться подход, основать на применение нейронный сеть с векторный репрезентация слово в качество признаков. данный подход не зависеть от язык и не требовать семантический тезаурус (использоваться только обучать корпус текстов). в рамка наш работа проводиться эксперимент с такой моделями, как наивный байесовский классификатор, логистический регрессия, метод опорный вектор (с различный тип ядра), перцептрон, дерево решение и случайный лес. 2.1. признак для машинный обучение в ход работа быть также провести исследование признаков, который обычно использоваться в задача извлечение мнение с помощь машинный обучения. результат это исследование представить в таблица 1. как выяснилось, частый весь использоваться такой признаки, как n-грамм . иногда слово в n-грамм заменяться они семантический класс [5] [17]. некоторый исследователь отрицать эффективность использование (смежных) n-грамм высокий порядок [13], в то время как другой утверждают, что для некоторый задача такой признак мочь быть чрезвычайно полезный [5] [25]. иногда в набор признак включаться и информация о позиция токен в абзац [13], также проводиться эксперимент с низкоуровневый признаками, например, с подстрока [5]. различный способ обработка отрицание (например, добавление «not_» к слову, к который относиться отрицание) описать в многий работа [1] [4] [5] [11] [19] [22]. при работа с разговорный текст некоторый автор предлагать учитывать эмотикона [6] [10] [18] [19] [24]. в качество признак в задача анализ тональность также использовать высокоуровневый признаки, основать на лингвистический знаниях: например, в [14] описать применение признаков, отражать синтаксический связь (в термин грамматика зависимость или грамматика составляющих). у сидоров [20] рассматриваться применение синтаксический n-грамм, состоять из слов, связанный между себя синтаксический отношениями. однако подобный подход требовать наличие доступный инструмент синтаксический анализ и потому едва ли мочь применимый для русский языка. с n-грамм с использование часть речь (и частеречной n-граммами) также проводиться эксперимент [1] [19] [22]. пара «наречие-прилагательное» использоваться бенамар [2]. в соответствовать работа представить классификация наречие степень на пять категория и алгоритм выставление балл комбинация наречие и прилагательных. показано, что использование наречие позволять улучшить работа система в отношение идентификация тональности. у кеннеди и инкпена [9] модификатор валентность (уменьшительный и увеличительные) включаться в состав биграммный признаков. в дать работа в качество базовый набор признак использоваться смежный n-граммы. затем этот набор признак расширяться несмежный nграмм и признаками, получить в результат анализ корпус (а именно, предикативно-атрибутивный слово и модификаторами). последний обобщать идея комбинация наречие и прилагательное [2] и близкий к понятие модификатор валентность [9]. несмежный биграммы, в свой очередь, позволять охватить отрицания, который в русский язык мочь быть выразить различный способами. следовать пэнг [14], в случай n-грамм мы использовать вектор встречаемость вместо вектор частоты, поскольку они являться более эффективный признак для наш задачи. 3. исходный дать 3.1. корпус отзыв исходный корпус отзыв о ресторан состоять из 32525 отзыв (и 4,2 миллион словоупотреблений). корпус представить текст на русский разговорный язык с сайта, где пользователь оставлять свой отзыв о различный продуктах, услугах, заведение и пр. длина отзыв варьироваться от 1 до 96 предложение и в средний составлять 10 предложений. небольшой подмножество исходный корпус быть разметить для последующий машинный обучения. вначале подкорпус быть разметить автоматически на основа ключевой слов, а затем выверить вручную два экспертами. этот подкорпус включать в себя 1025 отзыв о 206 ресторан в центр санкт-петербурга. 3.2. аспект ресторан в дать работа применяться подход, при который список аспект объект (в наш случай – ресторанов) не извлекаться из отзыв автоматически, а составляться вручную исходить из потребность пользователь системы, в который быть использоваться модуль анализ тональности. список аспектов, извлекать из отзывов, включать в себя тип заведение и кухни, качество еда и обслуживания, наличие уюта, романтический обстановки, наличие бара, танцпола, детский комнаты, наличие поблизости гостиницы, парковка и т.д. аспект ресторана, который рассматриваться в дать работе, привести в таблица 2. для каждый из аспект в таблица указать множество значений, который мочь принимать этот аспект. ресторан иметь как объективный аспект (например, наличие танцпола, бара, детский комната и т.д.), так и субъективный (см. таблица 2). для объективный аспект задача классификация аспект являться задача извлечение информации, в то время как для субъективный – это задача анализ тональности. в дать работа рассматриваться субъективный аспект (этый аспект с значение из 5-балльный шкала от -2 до 2, представить в таблица 2) и решаться задача анализ тональности. поскольку размер разметить подкорпус невелики, необходимо убедиться в том, что для рассматривать аспект в подкорпус иметься достаточный количество прецедентов. так, для каждый из аспект в таблица 2 быть подсчитать доля отзыв в подкорпусе, в который упоминаться данный аспект (и принимать любой из значений). в качество пороговый значение эмпирически быть выбрать величина, равный 10%: так, в эксперимент с машинный обучение участвовать только аспекты, упоминаться хотя бы в 10% отзыв из разметить подкорпуса. как оказалось, всё субъективный аспект (качество еды, приветливость персонала, скорость обслуживание и т.д. – см. таблица 2) удовлетворять этот критерию, что подтверждать актуальность дать аспект с точка зрение пользователей. 4. метод и этап исследование цель дать работа являться разработка аспектно-ориентировать метод анализ тональность отзыв о ресторан для рекомендательный системы. поскольку русский язык не отличаться больший число доступный лингвистический ресурсов, мы в многое опираться на результат корпусный анализа, пытаться извлечь максимум из иметься данных, и экспериментировать как с правилами, так и с машинный обучением. в результат анализ классификаторов, который обычно использоваться в задача извлечение мнений, а также возможность выбрать инструментарий для машинный обучения, выбрать бернуллиевский и мультиномиальный наивный байесовский классификаторы, логистический регрессия, метод опорный вектор (с линейным, полиномиальным, гаусс и сигмоидный ядрами), перцептрон (с «перемешиванием» обучать множества), дерево решение и случайный лес. при это наивный байесовский классификатор демонстрировать хороший показатель в определение класс мнение для большинство параметр ресторанов. в целое это соответствовать выводам, описать для английский язык в работа [3] и [25]. выбор признак также продиктовать реалия русский языка. отсутствие доступный семантический тезаурус мы пытаться компенсировать полуавтоматический построение словарь на основа корпус отзывов, а отсутствие подходящий для наш задача инструмент синтаксический анализ – включение несмежный биграмм в состав признак машинный обучения. в целом, первый созвучно идея модификатор валентность и пара «наречие + прилагательное» из работа кеннеди и инкпена [9] и бенамар [2], а второе – синтаксический n-грамм сидоров [67]. различный способ выражение отрицание в русский язык мы также надеяться охватить несмежный биграммами. основной этап провести исследование соответствовать решение следующий задач: − анализ корпус отзыв (в тот число построение словарь и оценка покрытие корпус этот словарями); − выделение признак для машинный обучения; − оценка и выбор хороший модель и хороший набор признак машинный обучения. 4.1. анализ корпус процедура анализ корпус проводиться в рамка дать работа в несколько шагов. можно выделить такой этапы, как: − предварительный обработка корпус (токенизация, лемматизация, нормализация и разбиение на предложения). сюда также включаться построение частотный словарь и словарь n-грамм; − построение словарь номинация и предикативно-атрибутивный словарей. это процедура проводиться для фрейм кухня и обслуживание как наиболее важный аспект ресторана. кроме того, быть построить предикативно-атрибутивный словарь для фрейм обслуживания, а также для тип кухня и качество еда внутри фрейм кухни. этот словарь в дальнейший использоваться при построение шаблон и выделение признак машинный обучения; − оценка покрытие корпус словарь номинаций; − построение шаблон на основа частеречной распределение слов, соседний с словами-номинациями; − оценка покрытие корпус построить шаблонами. всё перечисленный этап подробно описать в [15]. в дать работа быть принять решение использовать предикативно-атрибутивный словарь – словарь прилагательное и причастие в полный и краткий форме, который относиться к номинация ключевой фрейм (т.е. еда и обслуживания). это обусловить тем, что анализ распределение часть речь среди несмежный биграмм корпус отзыв выявить доминирование именной группа при описание аспект ресторана. оценки, получить на последний этап анализ корпус (покрытие словарь 66% отзыв для фрейм обслуживание и 71% – для качество еды) позволять надеяться, что для извлечение мнение о качество еда и обслуживание мочь быть применить стратегия, основать на употребление соответствовать номинаций. на основа частотный словаря, собранный по корпус отзывов, быть также составить словарь тональностей. для это из частотный словарь быть выбрать всё прилагательное и причастие (в полный и краткий форме), и каждый пара «лемма + часть речи», в который лемма мочь бы выразить в текст отношение пользователь к один из субъективный аспект ресторана, быть поставить в соответствие один из пять класс по 5-балльный шкала от -2 до 2. разметка словарь заниматься эксперт-лингвист. в данный исследование словарь тональность использоваться только для ключевой аспект ресторан (фрейм еда и обслуживания): − качество еды; − качество обслуживания; − скорость обслуживания; − приветливость персонала; − вежливость персонала. балл из разметить словарь использоваться в данный исследование в качество один из признак в машинный обучении. помимо словарь номинаций, предикативно-атрибутивный словарь и словарь тональность быть также построить словарь модификатор и словарь ключевой слово и фраз. основной словарь модификатор представлять себя неразмеченный список наречие степени, частица и они сочетание и содержать 94 единицы. он быть получить на основа частотный словарь корпуса. вначале быть применить частеречной фильтры, затем осуществляться ручной проверка. кроме того, иметься собранный вручную словарь модификаторов-усилителей, состоять из наречие степень (например, «очень», «весьма», «чрезвычайно»). словарь ключевой фраза состоять из вручную составить лемматизировать фраза для исследовать аспект ресторана. всё словарь ключевой слово и фраза содержать разметку, т.е. пометить значение параметр (например, лемматизировать фраза «демократичный цена» пометить значение «1» для аспект «уровень цен»). 4.2. выбор признак и модель машинный обучение для весь эксперимент с машинный обучение в дать работа использоваться библиотека scikit-learn для язык python. для каждый из аспектов, наиболее часто встречаться в отзывах, проводиться эксперимент с такой классификаторами, как наивный байесовский классификатор (бернуллиевский (nb) и мультиномиальный (mnb)), логистический регрессия (logreg), метод опорный вектор (svm) (с линейным, полиномиальным, гаусс и сигмодин ядрами), перцептрон (с «перемешиванием» обучать множества), дерево решение и случайный лес. однако всё вид svm, кроме линейного, показать в время предварительный эксперимент результат на порядок плохой остальной классификатор (а именно, на десяток процент хуже), поэтому они не быть включить в процедура кросс-валидация и серия тест для выбор хороший модели. поскольку разметить подкорпус содержать большой количество пустой значений, мы разделить задача классификация на две: вначале необходимо оценить релевантность отзыв в отношение аспекта, а затем, если отзыв релевантен, нужно определить значение аспект (т.е. тональность). при выбор использовать признак мы постараться объединить результат анализ корпус отзыв и идеи, предлагать в работа по извлечение мнений. быть выделить 11 различный набор признаков. базовый набор состоять только из униграмм и смежный биграмм (он использоваться в первый задача определение релевантности), а следующий 10 набор расширять он тот или иной признаками: несмежный биграммы, эмотикона и восклицания, предикативно-атрибутивный слова, ключевой фразы, словарь тональностей. этот признак в различный комбинация использоваться в второй задача определение класса. всё признаки, за исключение эмотиконовый и восклицаний, являться бинарный и отражать наличие определённый слово или комбинация слово в отзыве. под несмежный биграмм подразумеваться такой биграммы, компонент который необязательно являться соседний слово в текст (в данный случай допускаться наличие 1-2 слово между компонентами. предикативно-атрибутивный признаки, как и признак словарь тональностей, представить для каждый слово из соответствовать словарей. что касаться эмотиконов, позитивный и негативный эмотикона сгруппировать в два разный категории. перед обучение классификатор на описать набор признак применяться процедура автоматический отбор наиболее важный признаков. для это использоваться встроить возможность библиотека scikit-learn: отбор признак осуществляться с помощь рандомизировать логистический регрессии. 5. результат для выбор оптимальный комбинация классификатор и набор признаков, быть провести следующий 2 процедуры: кросс-валидация (с деление разметить корпус на 10 часть и с предварительный «перемешиванием» отзывов) и серия статистический тест (длить проверка того, что выбрать комбинация классификатор и признак значительно хороший остальных). модель оцениваться с помощь показатель точность и средний взвесить f-меры. cерия статистический тест холм-бонферронь проводиться на основа рекомендаций, привести в [7], и с помощь метода, описать в [16]. она позволять выбрать комбинация классификатор и набор признак с показателями, статистически лучшими, чем у остальной комбинация (ить один из лучших), см. табл. 3. для большинство исследовать аспект logreg и линейный svm оказаться оптимальный классификатор при решение задача определение релевантность отзыва. такой образом, этот классификатор мочь быть рекомендовать в задача выделение текст (из массив разговорный неструктурированный текстов), который содержать мнение о некоторый объекте. для задача выбор определённый значение аспект (т.е. класса), независимо от параметра, оптимальный оказаться наивный байесовский классификаторы. поэтому можно предположить, что в задача определение тональность наивный байесовский классификатор (мультиномиальный) являться оптимальный выбор (из семь рассматривать тип классификаторов) для данный тип текстов. кроме того, как оказалось, для аспект «уровень шума» и «уровень цен» достаточно использовать базовый набор признак и mnb классификатор, чтобы получить максимальный по это параметр результаты. включение словарь в состав признак (длить фрейм обслуживание и кухни) улучшать показатель для весь аспектов, кроме скорости. аспект скорость хороший весь извлекаться с использование эмотиконовый и несмежный биграмм, который покрывать большой число способ выражение мнения. в настоящий время мы занятый более детальный проработка использовать словарей. 6. заключение в результат провести исследование предложный и апробировать аспектно-ориентировать метод анализ тональность отзыв о ресторанах, который мочь использоваться в рекомендательный система в сфера eтуризма. сфера он применение не ограничить дать предметный областью. предложить идея мочь учитываться при решение задача автоматический понимание слабо структурировать текст разговорный стиль на флективный язык с свободный порядок слово (особенно в тот случае, когда для данный язык иметься малый количество доступный лингвистический ресурсов). для каждый из аспект ресторан в работа выбираться оптимальный (с точка зрение качество работа и вычислительный эффективности) комбинация классификатор и набор признаков. особый внимание при это уделяться проверка статистический значимость получить результатов. предложить в работа подход основан, главный образом, на максимальный использование данных, получить в время анализ корпуса, при построение моделей. показано, что с помощь этот дать мочь быть повысить эффективность работа система в отношение некоторый аспект ресторанов. так, например, использование разметить словарь тональностей, словарь номинаций, предикативно-атрибутивный словарь и словарь модификатор в целое приводить к повышение точность и средний взвесить f1-мера при извлечение мнение о качество еда и обслуживания. в результат эксперимент с машинный обучение быть выделить классификаторы, показать себя наиболее эффективный для анализ тональность отзыв о ресторанах. для большинство аспект ресторан логистический регрессия и линейный метод опорный вектор оказываться оптимальный метод классификация отзыв на релевантный и нерелевантный относительно исследовать аспекта. для классификация отзыв на категория по отношение к исследовать аспект для большинство аспект ресторан наиболее эффективный становиться мультиномиальный наивный байесовский классификатор. направление будущий работы, помимо расширение разметить корпуса, включать в себя более детальный проработка использовать семантический ресурсов, в частности, словарь тональностей. планироваться проведение экспертный разметка словарь в разрез определённый аспект ресторан и с добавление особый глагольный разметки. работа выполнить при поддержка грант спбгу 30.38.305.2014/