обработка текстовый медицинский информации: метод сбор и маркировка симптом заболевание а.в. чижик1, с.а. мельникова2 введение практически всё существующий задача машинный обучение базироваться на необходимость наличие обучать набор данных, в особенность это касаться задача классификация и выстраивание человеко-машинный диалога. датасет – это обработать и структурировать дать в табличный виде. иной словами, это разметить данные, на основа который и происходить машинный обучение. например, если перед мы стоить задача интеграция взаимодействие голосовой команда с интерфейсом, то для начало свой модель мы должный предоставить набор дать с транскрипция живой речи. чем большой образец речь мы удаться собрать в наш датасет, тем хороший модель быть отрабатывать n+1 случай. на данный момент гипотеза возможность внедрение ия в рутинный конвейер взаимодействие «клиника-пациент» выглядеть достаточно привлекательной. однако, есть ряд ограничений: во-первых, всё ещё нет чёткий позиция медик и юрист на тема легитимность включение ия в рутинный процесс на первый этап взаимодействие пациент и клиники; во-вторых, практически всегда реализация общение «робота» с живой человек строиться на интерфейс с использование правило (если…,то…), а не на реализация человеко-машинный разговор в формат естественный диалога. последний проблема являться ключевой для нас. отметим, что для того, чтобы построить коммуникация на естественный язык и при это преследовать цель сбор полезный фактов, а также не разочаровывать бессмысленность ответов, необходимый разработка сценарий поведение чат-бота, но, главное, требоваться сбор датасет с пример как реплика человек (длить детекции класс намерение пользователя), так и с коллекция симптом (ведь основный задача первичный взаимодействие пациент с клиника почти всегда сводиться к тому, что человек хотеть записаться на приём к врачу, а регистратура нуждаться в информация на тема он состояния). также стоить упомянуть перспективный задача анализ поведение пациент вне клиника с точка зрение рефлексия на тема свой самочувствие и поставить диагнозов. такой проблема также упираться в сбор медицинский текстовый дать и в последующий нахождение в они закономерностей. базовый подход к сбор медицинский дать являться обращение к медицинский выпискам. в целое это логично, так как на данный момент любой приход к врач фиксироваться в цифровой форме, что означать наличие после каждый наблюдение пациент большой количество данных: информация о физический состоянии, симптомы, описание жалоба и т.д. однако такой родиться информация ограничить в распространении, использование она в чат-бот являться сомнительный кейс (так как нет согласие автор текстов, т.е. пациента). в связь с это возникать гипотеза, что стоить обратиться к анализ большой количество данных, разместить в сеть интернет. раздел сайт клиника тип «вопрос-ответ», а также взаимодействие между человек в социальный сеть с цель обмен публичный информация представлять себя важный новый источник данных. стоить отметить, что количество данных, содержаться в открытый источник (новое и социальный медиа), можно отнести к категория big data [1] если обратиться к рефлексия на тема полезность такой родиться слабо структурировать данных, то они можно использовать для понимание воздействие лекарств, болезнь и метод лечение на пациент за предел контролировать клинический условий, а также, чтобы понять паттерн поведение индивидов, связанный с здоровьем. для мы же быть интересно попытаться выделить из это массив данные, который бы можно быть использовать для разметка симптом на класс (определение диагноза). особенность интернет как источник такой дать заключаться в том, что перед мы оказываться текст на естественный язык с очень разнообразный структурой. это они существенно отличать от электронный медицинский записей, где содержаться текст на естественный языке, однако он более формален, что давать возможность быстрый извлечь и структурировать релевантный информацию. 1. постановка задача перед мы стоять задача «чтения» неструктурированный текст с цель сбор определённый медицинский информация и формирование на она основа датасета, пригодный для использование в алгоритм машинный обучения. датасет отличаться от простой сбор медицинский дать тем, что он наделить особый свойство ― унификация и структурированность данных; отсутствие грубый неточностей; наличие дополнительный информации. каждый датасет уникальный не только образец данных, который в он входят, но также способ они классификация и подход к разметке. для тот чтобы создать датасет, который можно воспользоваться в дальнейший исследование и применить в прикладной разработках, быть необходимо сформулировать клинический и/ить практический задача в область медицины, который (потенциально) подверженный автоматизация с помощь интеллектуальный систем. в наш случай прикладной цель создание датасет явиться желание создать сервис для социологический опрос на медицинский тему. веб-сервис предполагаться реализовать в формат чат-бот с открытый домен для симуляция человеко-машинный диалог (симуляция медицинский сервиса). основной конечный цель такой прикладной разработка мы видеть изучение пользовательский опыт и фиксация путь решение стандартный проблема при обращение в автоматизированный центр скорый помощь и регистратура (так как мы предполагаем, что положительный восприятие автоматизация происходить за счёт использование естественный язык с сторона бот вместо реализация подобный приложение на база правил). такой образом, датасет с разметить класс симптом быть полезный для решение технический задач, в тот число распознавание намерение пользователя. также мы хотеть протестировать с помощь респондент точность классификации, который возможный при условие наличие «чистого» датасета. стоить отметить, что для такой задача существовать специализировать сервисы, например amazon comprehend medical [2]. он позволять извлекать значимый информация (жалобы, диагноз, назначить препарат и они дозировку, результат исследование и т.п) из неструктурированный медицинский записей. в конец 2019 г. jamia [3] опубликовать исследование, который показало, что данные, получить из неструктурированный эмк, являться более точный источник информация для прогнозирование ибс, чем структурировать данные. это подкреплять наш перспективность извлечение признак из неструктурированный открытый медицинский дать для задача сбор больший набор дать для машинный обучения. для решение наш задача она быть разбитый на три подзадачи: ₋ выбор источник дать и сбор черновой датасет (неструктурированный текст и технический информация); ₋ извлечение название болезнь (классы); ₋ выделение симптомов. 2. этап отбор исходный дать медицинский дать мочь накапливаться как при фиксация рутинный диагностический процесс в медицинский учреждении, так и с использование неструктурированный дать из социальный и новый медиа. человек часто обеспокоить состояние свой здоровье и рядом медицинский проблем, особенно когда речь идти о сложный или хронический заболеваниях. пациент часто желать иметь лёгкий доступ к информация о заболевание и симптомах, чтобы понять свой состояние и облегчить самоконтроль заболеваний, не полагаться полностью на взаимодействие с врач [4]. к примеру, пациент с хронический заболевание использовать социальный сеть для получение эмоциональный и практический поддержка [5]. к тот же медицинский работник часто делиться свой опыт в социальный сетях, в тот число исходить из маркетинговый целей. существовать статистика, согласно который 42% интернет-пользователь использовать социальный сеть для получение медицинский информации. 29% искать информация о здоровье через платформа социальный сетей, чтобы наблюдать за опыт другой пациент с они заболевание [6] (этый значит, что в один сообщение появляться как диагнозы, так и симптомы). разговор пользователь на темы, связанный с здоровьем, который содержаться в twitter и facebook, быть проанализировать рядом ученых. в частности, есть исследование, описывать анализ текстовый дать с цель выделение кластер симптом рак молочный железо [7]. также текстовый дать изучать в контекст анализ поведение курящий человек [8,9]. ещё один научный группа [10] извлечь дать из онлайн-сообществ, посвятить вопрос здравоохранения, учёный использовать кластеризация текстовый дать для изучение потребность и интерес пациентов. быть извлечь медицинский термины, в тот число связанный с состояниями, симптомами, лечением, эффективность и побочный эффектами. они результат показывают, что существовать значительный различие в темах, который присутствовать на различный платформа для обсуждение болезней, если сравнивать они с вектор популярный контент в научный литературе. латентный распределение дирихнуть (lda) быть использовать для кластеризация обсуждение диагноз в facebook [11]. сгруппировать тематический кластер быть проанализировать с точка зрение полярность настроений. такой образом, становиться очевидно, что данные, собранный из открытый источников, обычно иметь широкий вариативность в изложение информация и позволять создать наиболее репрезентативный датасет. ключевой значение иметь баланс классов: в какой пропорция распределить образец в датасете. проблема работа с несбалансированный набор дать заключаться в том, что большинство метод машинный обучение игнорировать или иметь низкий производительность при анализ малый класса. в то время как с практический точка зрение производительность в это класс являться наиболее важный задачей. в задача классификация дать называться несбалансированными, если в обучать выборка доля объект разный класс существенно различаться [12]. проблема с дисбаланс частый весь возникает, когда какой-то из класс соответствовать очень редко наблюдать или диагностировать явление (например, редкий болезнь). для решение задача уравновешивание класс обычно применять перебалансировка данных: недо- или пересэмплирование (smote). smote заключаться в идея увеличение малый класс за счёт представитель выпуклый комбинация пар. самый простой подход включать в себя дублирование пример в миноритарный классе, хотя этот пример не добавлять в модель никакой новый информации. поэтому новый пример мочь быть синтезировать из существующий примеров. этот тип увеличение дать для малый класс называться метод пересэмплирования. второй идея перебалансировка [13] заключаться в том, что мы мочь сделать класс сбалансированный за счёт замена большой класс подвыборка по мощность равный малый классу, этот приём называться недосэмлированием. подводить практический итог, простой стратегия недосэмплирование – взять случайный подвыборку, простой стратегия пересэмплирование – продублировать объект малый класса. у пересэмплирование качество, как правило, выше, т.к. использоваться всё данные, однако недосэмплирование позволять учить модель на маленький выборке. 3. обзор возможность извлечение качественный характеристика заболевание и описание получить результат на первый этап мы сформировать набор из 120 заболеваний, который взять на официальный сайт клиник. этот информация быть необходимый для того, чтобы затем собирать описание симптом этот заболеваний. такой образом, мы выявить метка класс и получить по один образец статьи, описывать заболевание. средний длина такой статья 4000 знаков. далее быть принять решение сфокусироваться при сбор дать на 5 заболеваниях: «аппендицит», «холицестит», «эзофагит», «энтерит», «язва». в итог быть собранный корпус из 13 624 текстовый сообщение на тема этот заболевание (раздел сайт медицинский учреждений, дискуссия в социальный сетях, посвятить конкретный заболеваниям). дальнейший задача можно сформулировать как извлечение качественный характеристика заболевание (указывать на симптоматику) из текста. для анализ медицинский текстовый запись использоваться специализировать метод и инструмент распознавание именовать сущность (ner). этот метод обработка человеческий язык позволять находить в образец текст на естественный язык опредметить категория слово и словосочетаний. часто (как и в наш случае) речь идти о работа с метка классов, количество который являться заранее известным. класс мочь являться наименование заболеваний, факт госпитализация пациент (быть или нет), различный количественный и качественный параметры, признак и случай и т.д. большинство ner-классификатор базироваться на алгоритм crf (conditional random field), который относиться к класс скрытый марковский модель [14]. для создание модель ner-классификация обычно использоваться библиотека с открытый исходный код для обработка естественный язык – spacy. она написать на язык программирование python, выполнять токенизацию, разметка часть речь (pos) и разбор зависимостей. библиотека опубликовать под лицензия mit. spacy предлагать 18 метка (tags), который отмечаться именовать сущности, а также простой способ дообучить свой собственный модель. в работа [15] оцениваться 10 различный готовый система извлечение признак на точность и скорость извлечения. в итог spacy показать хороший скорость извлечения, поддерживать сопоставимый точность от 85% до 90%. модель spacy представлять себя сверточный нейросеть (cnn), который позволять делать прогноз, основать на представить в время обучение примерах. в 2020 г. университет стенфорд выпустить свой библиотека stanza [16]. модуль библиотека построить на основа библиотека pytorch. это набор инструментов, который можно использовать для создание конвейер нейронный сеть для анализ текста. библиотека поддерживать такой функция как токенизация, расширение токен до несколько слов, лемматизация, часть речь (pos), тегирование морфологический признаков, анализ зависимостей, распознавание именовать сущность и анализ настроений. она использовать универсальный зависимость для предоставление согласовать аннотация грамматика на более чем 60 языках. такой образом, по сути, библиотека покрывать минус spacy (отсутствие языковой модель для некоторый языков, в тот число поддержка русский язык стать возможный только в 2021 г. и пока годиться не для весь задач) и реализовать мультиязычность. отметим, что stanza предоставлять готовый функции, который поддерживать синтаксический анализ и распознавание именовать объект в текст клинический выписка (что оказаться полезно для наш задачи). мы также быть предпринять попытка анализ текст с помощь проект natasha. это один из главный nlp-проект для русский языка. он иметь долгий историю, и начинаться с rule-based решений, сейчас же библиотека решать основной задача nlp для русский язык современный методами: токенизацию, сегментация предложения, лемматизация, нормализация фразы, синтаксический разбор, ner-тегирование, извлечение фактов. к минус можно отнести нестабильный результат работа (в зависимость от сложность и специфичность текстов, подавать на вход). в итог мы остановиться на использование библиотека stanza. для оценка качество задача ner, как правило, использоваться метрики: precision (точность), recall (полнота), f1 (средний гармонический точность и полноты). при это для улучшение детекции симптом мы проанализировать исходный датасет с использование метрика релевантности, читаемость и спамность (которой заимствовать из маркетинговый исследований). после что удалить текст не соответствовать критерий читаемость (ин словами, проверить текст на предмет присутствие бессодержательный демагогии), чтобы получать дать быть более «читаемы» и наш алгоритм извлечение симптомов. в итог обученный мы модель иметь следующий метрика качества: precision=91,1%, recall=87,3%, f1 = 89,2%. заключение обученный модель извлечение признак из медицинский текст метод nlp показать достаточный точность при обработка неструктурированный текстовый данных. собранный дать быть тестироваться внутри чат-бот (ручной методами), а датасет планироваться продолжить пополнять. итоговый датасет выложить в открытый доступ [ссылка].