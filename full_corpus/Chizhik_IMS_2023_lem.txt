сравнение модель векторизация текст для задача анализ тональность короткий сообщение из социальный сеть а.в. чижик 1. введение информационный технологии, проникать в всё сфера жизни, изменять способ взаимодействие между людьми, обеспечивать доступ к новый источник информация и создавать новый форма коммуникации. благодаря доступность интернета, развитие социальный сетей, мессенджер и другой цифровой инструмент коммуникация в текущий момент наблюдаться резкий увеличение количество цифровой взаимодействие между людьми. для индивид присутствие виртуальный коммуникативный среда обеспечивать расширение круг общение и позволять находить единомышленник и достигать общий цель вне пространственных, временной и социальный ограничений. с точка зрение социокультурный динамика это означать увеличение интерактивность общественный пространство через более активный участие человек в различный социальный и политический процессах. такой образом, цифровой технология и цифровой взаимодействие являться мощный инструмент создание новый связь между социальный группа и отдельный индивидами. при это онлайн-среда представлять себя многочисленный горизонтальный связи, образовать масштабный неориентированный граф, именно этот структура и обеспечивать преодоление социальный барьер и приводить к пересечение индивид из различный слой общества. коммуникация в виртуальный реальность иметь ряд важный характеристик, два из который стратегически важный в рамка актуализация потенциал этот коммуникативный среда как объект исследований. во-первых, большинство цифровой взаимодействие происходить в форма обмен текстовый сообщениями, что означать наличие зафиксировать в удобный формат цифровой следа; во-вторых, часто коммуникация происходить в публичный зона (пост и комментарий к ним, чаты) и иметь ряд мета-дать (например, дата поста, социально-демографический характеристика автора), а, значит, доступный для структурировать сбор дать и дальнейший изучение компьютерный методами. такой образом, возрастать количество публичный текстовый дать превратить анализ текст (natural language processing, nlp) в актуальный метод для анализ социальный динамика общества. основный объект исследование стать контент из социальный и новый медиа. стоить отметить, что nlp-метод применяться в различный областях, в тот число активно использоваться в сфера маркетинг для оптимизация путь клиента, в медицина для обеспечение дистанционный взаимодействие «клиника-пациент», но, главное, они позволять анализировать поведение социальный группа на микро- и макроуровнях, привязывать он к временной шкала и событийный фактам. так выявляться и объясняться скрытый закономерности, приводить общество в движение, а также предсказываться вероятность наступление явление (например, общественный волнение или, наоборот, апатия социальный группа или общество в целом). один из важный nlp-методов, который актуальный для исследование медиа-пространства, являться анализ тональность текст (sentiment analysis). он давать возможность понять отношения, мнение и эмоции, лежать в основа онлайн-текста. формализовать понятие, можно дать следующий определение: анализ тональность – это класс метод контент-анализ в компьютерный лингвистике, основный задача который заключаться в классификация текст по он настроению. обобщать тональность текстов, можно вычислять индекс субъективный благополучия, прогнозировать результат выборы или экономический показателей, оценивать реакция на событие или новости. по сути, тон текст помогать понять эмоциональный состояние автор и определить он отношение к поднять теме. так как любой публичный пост подразумевать наличие серия комментарий на него, то становиться доступный целый ряд научный рефлексий: исследование общий реакция социальный группа на тему, анализ реакция активный актор на проблему, детекция реакция пассивный актор коммуникация на лидер мнений. 2. постановка проблема в простой случай задача анализ тональность сводиться к бинарный классификация текст на два категории: позитивный и негативный (в ряд случай также включать категория «нейтральный текст»). однако подобный разделение на 2-3 класс не всегда репрезентативно для выявление глобальный социальный закономерностей, и задача переформатироваться в мультиклассовый классификацию, когда необходимо более чётко определить эмоциональный состояние индивидов. в такой случай дополнительный фаза исследование отводиться под разработка актуальный шкалы, способный связать в единый логика использовать для анализ дать и выявлять закономерности. в такой цель мочь использоваться численный шкала или категория тип «страх», «злость», «печаль», «счастье». в результат мочь быть вынести суждение о индекс социальный благополучие или вектор социальный настроения. такой класс легко связываться с количественный дать (например, в задача социальный картирования, где необходимо визуально показать взаимосвязь эмоция житель страны, город или район и ряд количественный данных, отражать различный характеристика жизнь в этот локации). глобально анализ тональность текст можно разделить на три направление методов. 1. подход на основа правило (rule-based). в они использоваться разметить словарь эмоций, для русский язык крупный являться rusentilex и linis crowd [1,2], который иметь информация о привязка слово к категория «позитивно» и «негативно», то есть не давать чёткий характеристика эмоция в отличие от англоязычный senticnet, sentiwordnet и sentiwords [3, 4, 5]. так же этот группа метод предполагать вручную создать набор правило классификации. очевидный минус подход являться низкий способность к обобщение (невозможный масштабировать для анализ текстов, не иметь предсказуемый конкретный тематики). 2. подход на основа машинный обучения, который подразумевать автоматический извлечение признак из текста, что позволять анализировать тексты, относиться к разный тематикам, в единый конвейере. часто использовать в рамка анализ тональность модель машинный обучение являться логистический регрессия, дерево решение и метод опорный векторов. последний несколько год помимо классический алгоритм машинный обучение для решение этот задача применяться свёрточный (cnn) и рекуррентный (rnn) нейросеть [6, 7]. группа этот метод показывать хороший результат с точка зрение метрика качество (точность от 70% в зависимость от конкретный задачи) и масштабируемость (применимость для текст разный тип и дискурсов). 3. гибридный подходы, который объединять в себя первый два (пример мочь служить aldonar [8]). из перечисленный группа метод с точка зрение применимость для анализ процесс социальный динамика выделяться подход на основа машинный обучения. возможность они применение первичный строиться на необходимость переформатирование текст в числовой векторы, так как алгоритм машинный обучение подразумевать манипуляция в математический пространстве. к тот же идея заключаться в том, что вектор (embedding), представить в геометрический пространстве, мочь быть описать через расстояние до соседей, что давать информация о они взаимосвязях. эмбеддинг слово мочь быть создать различный метод векторизации: самый простой из они – «мешок слов» (bag of words), также часто использоваться tf-idf векторизация, который учитывать важность слово в документе, а не только частота он появления. в более сложный система для генерирование эмбеддинг слово применяться модель дистрибутивный семантики, например, word2vec, glove и fasttext [9, 10, 11]. существовать подход к векторизации, позволять создать эмбеддинг предложение или параграф (а не слов), к этот логика векторизация относятся, например, модель elmo, bert и laser [12, 13, 14]. стоить отметить, что, несмотря на частый появление в методология исследование компонент анализ тональности, метод не иметь чёткий рамка и устояться правило использования: тональность, содержаться в тексте, можно анализировать на уровень бинарный классификации, или детализировать на несколько класс (часто использовать пятибалльный шкалу). в зависимость от того, какой модель векторизация быть использована, применить в дальнейший алгоритм машинный обучение для задача классификация тональность текст сработать точнее или наоборот более ординарно. такой образом, исследование применимость модель векторизация к конкретный тип текст являться актуальный исследовательский проблемой. в рамка данный исследование быть поставить задача анализ успешность модель векторизация применительно к короткий текст из социальный сетей. быть решить сфокусироваться на бинарный классификации, так как основной вопрос: какой техника создание векторный представление точнее фиксировать особенность короткий текст на русский язык (разговорный формата) с точка зрение возможность далее ml-модель уловить негативный и позитивный тональности. 3. дать в настоящий время интерес представлять два социальный медиа: вконтакте (консервативный по формат социальный сеть, состоять из пабликовый и группа с наличие публичный пост и комментарий к ним) и телеграмма (мессенджер с больший количество публичный чатов, где обсуждение тем мочь развиваться параллельно, без наличие побуждать нулевой поста). с точка зрение возможность привязывать анализировать текстовый дать к реальность (например, к геоданным) полезный оказываться информация, получить из социальный сеть вконтакте. поэтому для тестирование модель векторизация быть собрать два набор дать именно из этот сети: 1) датасет пост и комментарий к они из публичный районный сообщество город санкт-петербург (18 групп, выкачиваться дать за 2019-2020 гг.); 2) датасет, составить из контент пабликовый «подслушано» (4 группы, выкачиваться дать за 2022 год). средний длина комментарий в первый набор дать – 21 слово, а пост – 41 слово; в второй датасет средний длина пост – 11 слов, комментарий к они – 15 слов. полярность тематика собранный датасет – намеренный стратегия, так как дискурс текст и длина сообщение – важный характеристики, влиять на подбор метод векторизации. идея заключаться в том, чтобы проверить, быть ли какой-то заметный различие в метрика качество для два датасетов. общий объём дать – 319 335 записей. собранный текстовый дать быть поэтапно предобработать по следующий схеме: 1) разбиение текст реплика на токены; 2) удаление спецсимволов, эмодзи, ссылка и знак пунктуации; 3) удаление стоп-слов; 4) нормализация токенов. на выход из такой пайплайна препроцессинг быть получить предобработать текст, готовый к вероятностный векторизации. также в рамка очистка датасет от данных, не вносить концептуальный вклад в эксперимент, пост (начало дискуссия по теме), не содержать более пять комментариев, быть удалены. это быть сделать исходить из того, что для проводить эксперимент быть важный оценка тональность пост и серия комментарий к он с точка зрение направленность социальный настроения, такой образом, нейтрально окрасить тема (например, обсуждение потерянный ключ или графика работа какой-то учреждения) не представлять для данный исследование интереса. после это этап предобработка дать быть получить обновить датасеты, общий объём 204 107 строк. 4. описание эксперимент в качество базовый модель векторизация быть выбрать tf-idf (учитываться биграммы). также быть обучены: модель word2vec (size = 100, sg = 1, min_count = 1, window = 5, учитываться биграммы) и базироваться на библиотека глубокий обучение pytorch модель laser (использоваться предобученный модель для русский язык из библиотека laserembeddings). такой образом, эксперимент заключаться в сравнение успешность три основный подход к создание векторный представление текстов. прежде чем обратиться к обучение классификатора, быть решить исследовать дать метод кластеризации, чтобы удостовериться, что в текст действительно есть закономерности, который с математический точка зрение заметны. кластеризация дать являться классический задача восстановление распределение данных: это давать понимание того, как объект распределить в пространство признаков, какой наиболее характерный значение у они есть, где объект мало, а где они лежать плотный облаком. такой образом, на первый этап анализ дать мы использовать эмбединга текстов, получить три способами, и быть принять решение посмотреть способность анализировать модель эмбеддинг к разделение на кластеры. кластеризация быть провести с использование алгоритм k-средний (k=2), так как он позволять задать количество искомый кластеров. результат разбиение на два кластер представить на рис. 1. для визуализация кластеризация использоваться алгоритм понижение размерность pca. рис. 1. анализ разделимость класс с использование 3d-сжатие векторный пространство с использование алгоритм pca графика показывают, что векторизация метод tf-idf давать неплохой результаты: кластер визуально выглядеть сепарировать друг от друга. векторизация с помощь word2vec и laser гораздо плохой фиксировать особенность текстов, позволять они сепарировать как легко вчитываться кластеры, по крайний мера при k=2. стоить отметить, что кластерный анализ не давать точный представление о конкретный особенность текстов: признаки, по который алгоритм делить дать на группы, оставаться не интерпретируемыми. однако, этот опыт показывать насколько векторный представление в принцип фиксировать полярность кластер (по какой-либо признаку). заметим, что неожиданный стать низкий репрезентативность word2vec-векторизации, так как этот метод обычно хорошо улавливать синонимичность слов, что, как следствие, помогать близкий по значение текст отнести к один кластеру. на второй этап эксперимент часть собранный дать быть разметить вручную на два класс (негативный и позитивный) – рис. 2. рис. 2. распределение разметить класс в два датасет после это быть выделить слово (и словосочетания), вносить больший вклад в каждый из классов, и построить облако слово для оба класс (рис. 3). рис. 3. датасет районный сообществ: облако слов, вносить больший вклад в «негативный» класс (слева); облако слов, вносить больший вклад в «позитивный» класс (справа) такой визуальный представление класс давать возможность выдвинуть важный гипотезу: «негативные» текст гораздо важный правильно детектировать нежели «позитивные», так как они явно более содержательный с точка зрение возможность дальнейший анализ контекстов. то есть, выявить «негативный» класс далее отдельно с они можно проводить дополнительный исследования: тематический моделирование, выделение именовать сущностей, анализ тональность уже с мультиклассовый разделение на эмоции. соответственно, для оценка качество работа модель классификатор можно использовать матрица ошибок. она давать информация о процентный содержание истинно-положительного, истинно-отрицательного, ложно-положительный и ложно-отрицательный решение классификатора. такой образом, отдельно от общий производительность модели, становиться возможный проверить, в сколько случай быть спрогнозировать «негативный» класс, и это оказаться правдой. далее разметить набор дать быть раздельный на обучать и тестовый выборка (пропорция 70% и 30%). в качество алгоритм классификация быть выбрать логистический регрессия. на рис. 4 представить результат работа логистический регрессия при анализ датасет районный сообществ. рис. 4. результат работа модель логистический регрессия при отправить в она векторный представлениях, получить три способ (слева направо: tf-idf, w2v, laser) как видно из результатов, всё три метод векторизация сработать достаточно хорошо. однако различие касаться степень ошибка первый (ложно-положительный решение) и второй (ложно-отрицательный решение) рода. по привести матрица видно, что хороший весь «негативный» класс детектироваться логистический регрессией, работать на векторный представление tf-idf. удивительный факт являться то, что модель векторизация laser сработать достаточно хорошо, это значит, что для анализ тональность короткий текст актуальный подход мочь быть векторизация целый предложений. эксперимент над второй датасет дать схожий результаты, при это стоить отметить, что laser показать хороший результат относительно tf-idf, а модель word2vec остаться на третий место (56,17% истинно-отрицательный решений, что немного хуже, чем это быть на дать из районный сообществ). такой образом, появляться гипотеза, что чем менее текст насыщенный контекст (и присутствовать только эмоция), тем плохой word2vec способствовать улавливание нюансов, важный для классификация по тон сообщения. и в то же время laser, вероятно, показывать наиболее успешный результат в рамка векторизация короткий текстов, чем маленький в они присутствовать категория «содержание». 5. заключение при сравнение модель векторизация tf-idf показать хороший способность улавливать необходимый особенность в короткий текстах. модель логистический регрессия с использование данный векторный представление показать хороший итоговый производительность (f1_score=0,81), к тот же именно этот векторизация позволять при анализ тональность точнее детектировать «негативный» класс, который, как быть показать выше, являться более интересный с точка зрение дальнейший поиск закономерность при анализ социальный настроения. однако стоить отметить, что word2vec предоставлять дополнительный инструмент анализ текст (благодарить учёт квази-синонимичности) и, соответственно, при определённый постановка задача мочь быть полезным. касательно целесообразность использование laser, стоить дополнительно отметить, что модель требовать больший ресурс оперативный память (и сам векторизация занимать достаточно длительный время), однако сам векторный представление показать неплохой результат при использование в классификаторе. в дальнейший планироваться доразметить собранный набор данных, составить из они датасет, содержать уравновесить количество пример из оба классов, и затем повторить опыт с тот же настройками, что описать в данный эксперимент (так как некоторый туманность в оценка «позитивного» класс на данный момент остается). исследование выполнить при поддержка российский научный фонд и санкт-петербургский научный фонда, грант № 23-28-10069 «прогнозирование социальный самочувствие с цель оптимизация функционирование экосистема городской цифровой сервис санкт-петербурга» (https://rscf.ru/project/23-28-10069/).