особенность построение система массовый оптический распознавание архивный документ с.в. смирнов санкт-петербургский информационно-аналитический центр serge.smir@gmail.com 1. введение сфера деятельность архив и библиотека включать в себя широкий спектр задач, связанный с комплектованием, учетом, использование и обеспечение сохранность документов. эффективность выполнение каждый задача иметь сильный зависимость от скорость нахождение и получение доступ к нужный документам. поиск документ являться свой родиться «узким» место в весь рабочий процесс и накладывать серьёзный ограничение на время выполнение ежедневный задача архива. зачастую поиск производиться лишь по документам, обладать текстовый описанием. текстовый описание вручную заноситься в система оператор и сотрудник организация в процесс составление научно-справочный аппарат и оцифровка бумажный документов. данный подход к пополнение поисковый база обладать большой трудоёмкость и как следствие низкий скорость и малый покрытием. выход из сложиться ситуация мочь стать разработка решения, позволять пользователь производить поиск по текстовый содержимое изображение документ без необходимость предварительный ручной ввод поисковый метаданных. в рамка работа по развитие государственный информационный система «государственный архив санкт-петербурга» быть разработать программный комплекс, решающий поставить задачу. программный комплекс состоять из три подсистем: подсистема оптический распознавания, подсистема полнотекстовый индексация результат распознавания, подсистема поиск по распознать изображение документов. ключевой элемент являться система оптический распознавания, описание который и посвятить дать работа. 2. проблематика проектирование система при разработка система учитываться ряд особенностей: 1. отсутствие время и ресурс на ручной распознавание и ручной корректировка результат распознавание 2. отсутствие время и ресурс на ручной отбор и поиск документов, пригодный для распознавания. 3. отсутствие время и ресурс на постановка в очередь на обработка документов, пригодный к распознаванию. 4. отсутствие время и ресурс на ручной контроль качество распознавание каждый документа. 5. отсутствие время и ресурс на ручной обучение. также особый внимание на этап проектирование и разработка система массовый распознавание уделяться следующий проблемный область [1]:  оценка качество и характеристика обрабатывать документов;  назначение результат распознавания;  выбор ocr систем;  корректировка ошибка распознавания;  автоматический контроль качество распознавания. 2.1. качество и характеристика обрабатывать документ документ центральный государственный архив санкт-петербурга, подлежащее распознаванию, подразделяться на следующий тематики: историко-политический документы, документ по литература и искусству, документ по личный состав ликвидировать государственный предприятий, научно-технический документация. общий объём корпус материал составлять чуть менее 50 тысяча документов, 1 миллион изображение и 200 миллион слов. пример изображение документ привести на рисунок 1. формат изображение – jpeg, разрешение 300dpi 2.2. назначение результат распознавание в начало этап проектирование необходимо быть определиться с назначение результат распознавания. назначение выбираться из следующий вариант [2]: 1. полнотекстовый индексирование — результат распознавание рассматриваться как простой текст и в дальнейший подаваться на вход поисковый системы. текст использоваться как основа для полнотекстовый поиска. причем, конечный пользователь в результат поиск отображаться найти образ документ без обозначение вхождение поисковый фразы. данный вид не требовательный к точность распознавание и одновременно предоставлять хороший поисковый возможности. 2. отображение с подсветка результат на образ — в данный режим распознать текст обрабатываться также как и в предыдущий случае, а отличие заключаться в подсистема отображение поисковый результатов. в результат поиск пользователь отображаться изображение с выделить фрагмент вхождение поисковый фразы. очевидно, что в данный случай требование к качество распознавание возрастают, но одновременно с это увеличиваться и эффективность поисковый система в отличие от предшествовать способ отображение результатов. 3. выдача результат в вид неразмеченный текст — поисковый результат являться непосредственно текст, получить в результат распознавания, а оригинальный изображение документ не отображается. если распознать слово быть сильно искажены, то пользователь не смочь получить искомый информации, и потерять доверие к системе. такой образом, точность должный быть очень высокой, что практически не мочь быть достигнуть без привлечение человеческий ресурса, и, как следствие, вести к значительный временной и финансовый затратам. 4. воссоздание оригинальный документ — отображение результат распознавание редко производиться без форматирование и разметка текста, с цель сохранение исходный структура и деталь расположение элементов. в дополнение, разметить xml документ мочь содержать дополнительный атрибуты, тэг или ссылка на родственный документы. в разработать система результат распознавание использоваться лишь на промежуточный этап полнотекстовый индексирования. пользователь поисковый результат отображаться в вид подсветить область на изображении. перечисленный обстоятельство снижать требование к способность ocr система проводить структурный анализ документа, что существенно увеличивать круг система подходящий под задача исследования. обязательный требование являться лишь умение обрабатывать русскоязычный текст и наличие в результат распознавание x,y координата найти слов. 2.3. выбор ocr система самостоятельный разработка ocr система представлять себя довольно сложный научный и технический задача и не мочь являться обоснованный для большинство проект по оцифровке. особенно при условие того, что на рынок присутствовать порядок десятка различный ocr систем, отличаться условие распространения, стоимостью, предоставлять функция и, разумеется, качество генерировать результатов. поэтому, наиболее актуальный задача становиться выбор подходящий для конкретный проект ocr системы. самый надёжный подтверждение правильность выбор являться проведение сравнительный анализ результат распознавания. при проведение сравнение необходимо опираться на показатели, который наиболее полно отвечать будущее цель использование получить результат распознавания. в провести сравнительный анализ участвовать наиболее популярный ocr системы: “abbyy finereader”, “cuneiform linux”, “cuneiform windows”, “iris readiris”, “nuance omnipage”, “tesseract”. сравнительный анализ выявить наличие ошибка в результат распознавание архивный документ различный качество среди весь система оптический распознавания. минимальный и максимальный показатель точность распознавание на уровень слово отобразить в таблица 1. анализ точность указать на необходимость проведение корректировка ошибка распознавания. 2.4. корректировка ошибка распознавание качество процесс корректировка в многое зависеть от точность нахождение ошибка и они верный классификации. общий схема классификация ошибка в текст и уточнить классификация ошибка в результат оптический распознавание приводиться в работа [3, 4] соответственно. в работа [5] приводиться результат провести обзор метод и подходов, применимый к задача контекстный обработка результат распознавания. среди который выделить ряд способ предобработка результат распознавание путём шаблонный замены, сравнение выходной значение несколько ocr систем, описать метод обнаружение ошибок, основать на оценка вероятности, n-грамм анализе, словарный проверке. обзор показал, что существующий метод в общий случай неплохо решать ряд задача по обработка результат распознавание с использование словарей, статистический модель языка, хорошо развить тематика обнаружение и коррекция ошибка в тексте. тем не менее, в многий случай указанный метод предназначить для обработка современный текст и не подходить в чистый вид для обработка исторический текстов, содержать большой количество специализировать терминов, имя собственных, географический наименование и т.п. в большинство работа корректировка основать на предварительный ручной обучение система или участие человек на этап финальный выбор слова-заместителя. также стоить отметить, очень малый количество работа нацелить на корректировка именно русскоязычный текстов. это вызвать потребность разработка алгоритм корректировки, учитывать особенность русский язык и позволять обрабатывать корпус текст больший объём в полностью автоматический режиме. 3. алгоритм корректировка ошибка оптический распознавание для корректировка результат распознавание быть разработать метод, основать на рейтингоранговый модель текста. подробный описание метод приводиться в работа [6], здесь же рассмотреть только ключевой особенности. разделить весь процесс корректировка результат распознавание на четыре основный этап (рисунок 2): 1. подготовка структура данных. 2. генерация корректировок. 3. ранжирование корректировок. 4. формирование результата. 1. в ход предварительный этап подготовка структура дать производиться сбор статистический информация по весь корпус распознать документов, формироваться целый ряд словарь и хэш-таблиц, содержать необходимый дать для этап генерация корректировок. 2. на этап генерация корректировка для каждый ошибочно распознать слово формироваться список слово-кандидат на замену. отбор слово-кандидат осуществляться по специальный глоссариям, построить на основа частотный характеристика повторение слово и словосочетание с весь корпус распознать материалов. использование такой глоссариев, позволять производить корректировка текст различный предметный областей, содержать узкоспециализированный терминологию, имя собственные, географический наименование и т.п. всё множество ошибка распознавание можно разделить на множество ошибка 1-й родиться (пропустить слова) и множество ошибка 2-й родиться (ошибочно распознать слова). на этап генерация корректировка обработка подвергаться только ошибка 2-й рода. 3. далее каждый корректировка присваиваться ранг, на основа достоверность она появление в текст на место ошибочный слова. после производиться финальный упорядочивание корректировка по убывание они ранга. финальный ранжирование отобрать словкандидат производиться с учёт контекст и основываться на результат статистический n грамм анализ весь корпус текст в нормальный форме. реализация функция перевод слово в нормальный форма на основа морфологический предсказание позволять генерировать нормальный (базовые) форма даже для слово русский языка, отсутствовать в словаре. 4. на последний этап производиться выборка наиболее вероятный слов-заместителей, они подстановка и сохранение финальный результат распознавание в формат xml. разработать метод использовать расстояние левенштейн [7] в качество критерий оценка близость корректировка и ошибочный слова, и алгоритм поиск схожий слово метод анаграмма [8]. 4. архитектура и компонентный модель система 4.1. архитектура архитектура разработать системы, изобразить на рисунок 3, построить по классический трёхуровневый модели. работа с система осуществляться через веб приложение, разработать на язык программирование java [9]. веб-приложение мочь функционировать в любой контейнер сервлёт [10]. программный реализация система состоять из веб-приложения, набор прикладной программа и утилит, база данных. бд система мочь быть развернуть на любой субд, поддерживать реляционный модель хранение данных. вызов прикладной программа осуществляться через программный оболочка веб-приложения, что позволять производить увеличение вычислительный мощность за счёт горизонтальный масштабирование сервер приложение в основа программный реализация система лежать свободно распространять по, что делать система потенциально более доступный для применение в другой проектах. 4.2. компонентный модель компонентный модель разработать система представить на рисунок 4. разработать система состоять из три программный комплекс (пк) связанный между себя единый бд и программный интерфейс для взаимодействие с внешний подсистемами: 1. пк подготовка к работа предназначить для ручной тестирование процесс распознавание на единичный изображениях. в результат тестирование для разный тип изображение создаваться профайлы, содержать в себя настройка каждый этап распознавание и общий технологический схема обработки. после это необходимо произвести сравнительный анализ создать профайл на различный набор дать и выявить наиболее подходящий. также в задача подготовка к работа входить предварительный разбор весь корпус распознать текст и построение структура данных, необходимый для автоматический корректировка ошибка 2. пк пакетный распознавание предназначить для управление ход выполнение задание на обработка изображение документов. он основный задача являются: предоставление возможность просмотр журнал заданий, управление приоритет заданий, вызов процедура распознавание отдельный изображений, сбор результат и запись они в бд. 3. пк распознавание изображение отвечать за процесс обработка отдельный изображение в соответствие с задать в профайл технологический схемой. программный модуль (пм) предобработка заниматься подготовка изображение к процесс извлечение текста. в основа программный реализация положить библиотека imagemagick [11]. пм выполнять следующий задачи: бинаризацию, устранение «шума», выравнивание угол наклон и т.п. пм ocr отвечать за перевод изображение текст в машиночитаемый и редактировать форму. программный реализация основать на ряд свободно распространять система оптический распознавания: tesseract [12], cuneiform [13]. пм корректировка реализовать алгоритм автоматический корректировка результат распознавания, описать в глава 3. пм оценка точность производить расчёт метрик, характеризовать точность распознавания. 4. программный интерфейс система предоставлять ряд api вызов для постановка на распознавание отдельный документ эа, опрос состояние и получение результатов. 5. апробация система испытание система проводиться в состав государственный информационный система «государственный архив санкт-петербурга» на база архивов: • центральный государственный архив санкт-петербург (цга), • центральный государственный архив историко-политический документ санктпетербург (цгаипд), • центральный государственный архив литература и искусство санкт-петербург (цгали), • центральный государственный архив документ по личный состав ликвидировать государственный предприятий, учреждений, организация санкт-петербург (цгалс), • центральный государственный архив научно-технический документация санктпетербург (цгантд). за первый месяц эксплуатация быть обработать 32 тысяча документов, состоять из 700 тысяча изображений. получить результат распознавание содержать около 200 миллион слов. следующий задача ставится, проведение оценка точность распознавания, выявление результат ненадлежащий качество и оптимизация метод предобработки, распознавание и корректировка для повышение итоговый качество обработки. 6. заключение основной особенность разработать система являться гибкий архитектура, позволять подключать различный коммерческий и свободно распространять ocr система и библиотека предобработка изображений. система мочь быть настроить на распознавание документ различный категория качества. для один категория потребоваться подключение дорогостоящий движок распознавания, для другой хороший результат быть давать бесплатный ocr система. также главный преимущество система являться наличие процедура автоматический корректировка ошибка распознавания, позволять выявлять и исправлять ошибка даже в текстах, изобиловать специфический терминами, имя собственными, узкоспециализированный лексиконом. это особенно важно для исторических, архивный документов. система разработать в вид автономный программный комплекс и мочь быть интегрировать с другой информационный системами.