мультимодальный интеллектуальный ассистент для оформление первичный приём пациент а.в. чижик, м.п. егоров введение система здравоохранение по весь мир претерпевать значительный цифровой трансформацию, внедряться различный медицинский технология с использование искусственный интеллекта. разработчик стараться создать механизмы, способный снизить рутинный нагрузка на медицинский работников, помочь врач в принятие решений, а также обеспечить своевременный доступ к информация и сервис для пациент [1]. использование компьютерный и телекоммуникационный технология для обмен медицинский информация объединиться в общий подход, получить название телемедицина. развитие икт позволять проводить часть коммуникативный взаимодействие с пациент в дистанционный формате, а также разгружать кол-центр и регистратуры, использовать для сбор необходимый для приём информация диалоговый интерфейс (чат-боты) [2, 3]. сам концепт телемедицина (использование автоматизация и ия для взаимодействие «клиника-пациент») не являться новым, однако пандемия covid-19 стать фактором, повлиять на стремительный развитие телемедицинский технологий. использование технология телемедицина мочь привести к справедливый распределение специализировать медицинский помощь [4]. существовать множество факторов, влиять на успешный внедрение и эффективность телемедицина как базис ehealth. так поддержание высокий уровень оказывать медицинский помощь в условие «дистанционный медицины» и получение удовлетворительный исход лечение зависеть от уровень осведомлённость пациент и медперсонал о легитимный контур функционирование телемедицина на уровень законодательный база (правовой база в область здравоохранения) и технологический ограничение (ограничение существующий алгоритм машинный обучение и другой использовать методов, ограничение медицинский система в контекст сценарий взаимодействие с пациентами, ограничение с сторона медицинский информационный систем) [5]. основной цель телемедицина сегодня являться разработка инструмент и технология телемедицина следующий поколение [6]. это подразумевать преодоление географический и временной барьер между служба здравоохранение и они пользователями, а также улучшение работа алгоритм машинный обучения, который направить на улучшение взаимодействие между специалист и пациент (что подразумевать переход от экстренный оказание медицинский помощь к профилактический мерам, а это возможно только на основа управление взаимодействие на данных). многие больница и система здравоохранение использовать автоматизацию, чтобы облегчить проблема нехватка персонал и эффективно управлять и сортировать пациент в больший масштабах. один из вид автоматизация являться чат-бот и связанный с они технологии, который мочь автоматизировать процесс приём симптомов, а также всплывать на поверхность и выдавать материалы. хороший пример интеграция чатбот в медицинский система являться northwell health, система здравоохранение в нью-йорке, который использовать автоматический чаты, чтобы помочь свой лечить бригада оставаться на связь с пациент в время они выздоровление после выписка из больницы. пациент взаимодействовать с цифровой помощником, который выходить на связь с пациент от имя клиники. он задавать вопрос о они состояние здоровье и лечении, а также мочь считывать биометрический дать с устройств. чатбот анализировать ответ пациент в режим реальный время и рекомендовать пациенту, что делать дальше, чтобы повысить вероятность выздоровления. если бот определяет, что пациент нуждаться в дополнительный помощи, он направлять он в клинику, переводить пациент на телемедицинский визит или на кол-центр запись на личный прием. отметить также, что существовать социологический исследование [7, 8], который демонстрировать возрасти рутинный офисный нагрузка на врачей, что влечь за себя профессиональный выгорание: каждый пятый врач и два из пять медсестра говорят, что из-за это оставить свой профессия в течение два лет. чат-бот и технологии, основать на данных, мочь облегчить нагрузка на врачей, медсестра и другой медицинский работник при сбор симптом и другой данных, автоматизировать задачи, который хороший подходить для компьютера, и высвобождать медицинский бригада для работа с максимальный отдачей. существовать ряд проблема при внедрение человеко-машинный диалог в повседневный практика взаимодействие клиника и пациентов. один из этот проблема – отсутствие желание с сторона пользователь взаимодействовать с сценариями, основать на правило (так как это означать не эмпатичный диалог, а также ощущение отсутствие возможность отклонение от сценария, заложить создатель интерфейса). поэтому привлекательный выглядеть идея создание чат-бот с открытый доменом, который бы мочь взаимодействовать с юзер в формат естественный диалога, не терять при это функциональный составляющей. 1. постановка проблема при разработка чат-бот с открытый домен (особенно это касаться тем, который связать с социально важный сферами, где ошибка стоить дорого) есть два основной проблемы. первый проблема – способность понимание естественный языка, т. е. бот достаточно точно должный понимать реплика пользователь на естественный языке. второй проблема – извлечение соответствовать информация из база дать для конкретный предметный области, т.е. генерация ответ для обратный связь с пациентом. понимание естественный язык — это задача, с который ия не мочь справиться в полный мере, поэтому она сводиться к обнаружение намерение пользователя. если входящий реплика обработать достаточно успешно и намерение определено, то наступать не менее сложный момент взаимодействие с набор данных, в который храниться данные, необходимый для ответа. ответ должный быть достаточно правильный (и наполнить смыслом) для задачи, решать пользователем. оценка корректность ответ бот связать не только с прямой взаимодействие «реплика поиск релевантность в набор данных», но и с создание определённый протокол поведение бот (сценариев). например, в нынешний концепция правовой система ия не мочь давать никакой рекомендация без участие врача. это означает, что намерение «получить информацию» должный в некоторый случай привести к переключение на регистратура поликлиники. такой образом, наш проблема – идентификация и анализ намерение пользователь для проектирование эмпатичный чат-бота. иной словами, мы видеться перспективный создать алгоритм взаимодействие с пользователем, в результат который быть возможно определить намерение пациент (достаточный быстро и точно), что впоследствии помочь включить корректный сценарий взаимодействие с человеком. 2. дать собранный для наш эксперимент дать представлять из себя таблица вид «болезнь-набор симптомов». для первичный исследование выбрать пять заболеваний: «аппендицит», «холицестит», «эзофагит», «энтерит», «язва». на рис. 1 отобразить статистика по распределение количество симптомов. рис.1. распределение количество симптом 3. метод и сценарий 3.1. определение намерение пользователь диалоговый агент можно разделить на два типа: с присутствие функционал для решение один конкретный задача (ить нескольких, но, тем не менее, речь идти о конечный число сценариев, с который знакомый разрабатывать система) и разговорный интерфейс без ориентация на решение задача (в такой случай речь идти о поддержание диалог на естественный языке) [9]. диалоговый системы, ориентировать на задачи, помогать пользователь выполнить конкретный задачу. диалоговый системы, не ориентировать на задачи, предназначить для предоставление разумный ответ пользователь и, такой образом, для развлечение и диалог с открытый доменом. задача, который пытаться решить мы сводиться к попытка объединение этот два тип чат-ботов, что позволить оставаться в контекст решение индивид задачи, но при это в атмосфера естественно выглядеть диалог (внутри которого, в частности, ия смочь определить, хотеть ли пользователь в момент достигнуть решение проблема или просто развлекается, также это помочь собрать о пациент информацию). такой концепция предполагает, что намерение пользователь необходимо определить не более чем за 3 попытка [10]. в соответствие с [11] и [12], нужно учитывать, что существовать короткий вопрос (один вопрос вести к получение целевой информации) и вопросы, который предполагать развитие в вид каскад дополнительный уточнение (постепенный узнавание проблемы). также в исследование [13] высказать предположение, что диалог с бот мочь зайти в тупик при рассинхронизация мотивация пользователь и тот сценариев, который быть заложить в бот (с идейный точка зрения), так как при это наступать эмоциональный раздражение и апатия, соответствовать желание завершить диалог. из это следует, что в любой момент общение пациент с ассистентом, нужно добавить функция обращение к реальный человек или выбор из определённый вариантов. мы определить три тип намерение пользователя: «получение справки», «запись к врачу» и «режим болталки». также мы быть поставить задача предварительный определение болезни, что мочь быть хороший кейс для регистратура клиника (получать первичный дать пациент с маркировка предположение по срочность приём и т.д.). в результат быть разработать следующий метод (рис. 2). рис. 2. метод определение намерение пользователь метод предполагать наличие разметить датасет с пример реплик, который вести к определённый сценариям. для сбор необходимый текстовый образец на естественный язык мы использоваться открытый данные: блоги, в который задаваться вопрос о здоровье, сайт клиника (вкладка «вопрос-ответ») и социальный сети. собранный текст быть предобработаны: удалить стоп-слова, специальный символы, провести лемматизация слов. далее быть провести векторизация текст с помощь метод word2vec, так как данный алгоритм учитывать семантика слов, что понадобиться мы в будущем. в наш случае, вектор предложение есть средний вектор он слов. попадать в алгоритм, реплика пользователь сравниваться с теми, что содержаться в разметить датасете. для классификация рассчитываться косинусный расстояние между вектор поступить фраза и вектор предложений, содержаться в наш базе. определив, к какой интент (классу) относиться задать пользователь вопрос, алгоритм включать соответствовать режим. на текущий этап разработка мы добавить дополнительный шаг. пациент предлагаться указать, верно ли модель понять он мотив. фиксация это факт служить способ обогащение база реплика (и инструмент улучшение способ разметка собранный данных). 3.2. обоснование необходимость режим «болталки» человек не нравится, когда они общаться с ботом, который иметь легко считывать шаблонный сценарий. этот вопрос поднимаются, например, в работа [14]. действительно, это достаточно очевидный факт: мотивационный модель к использование приложение должный строиться на гипотезе, что человек мочь решить любой (не типовую) проблема с он использованием. это значит, что от ия (ить любой другой технологии) ждать поведение, схожий с живой человеком. поэтому возникать гипотеза, что добавление функция разговор увеличить удовлетворённость пользователей. при это с функциональный точка зрение это означает, что алгоритм должный понимать по фраза пользователя, что пора переключиться именно в режим болтания. на данный момент есть огромный количество открытый моделей, который имитировать общение между людьми. например, алгоритм dialogflow, который уметь поддерживать общение на ежедневный темы. 3.3. запись к врач один из важный кейсов, который мы стремиться интегрировать в функционал бот – запись к врачу. на наш взгляд, в задача чат-бот должный входить оценка срочность запись к врач (этый мочь решаться шаблонный и прямой вопросом, задать пациенту). при обозначить с сторона юзер несрочности, с сторона бот предполагаться активировать сценарий сбор симптом для предварительный определение болезни. это полезно с два позиций: 1. сбор симптом сам по себя являться полезный опцией, который сразу мочь отправляться на сервер и вписываться в соответствовать слот карта больной (таким образом, можно разгрузить рутинный действия, который на данный момент лежать на врачах, ведущий прием); 2. концепт «второе мнение», который мочь быть использовать как принимать врачом, так и учитываться в регистратура (ведь собственный оценка самочувствие мочь быть неточной, и весьма вероятно, что срочность приём гораздо более актуальный для пациента, чем он предполагает). 3.4. предсказание болезнь по набор симптом в качество теоретический основа для понимание мотивация человек к использование чат-бот мы применять теория использование и удовлетворение [15]. теория предполагает, что пользователь мотивировать через свой цель и на это основание происходить выбор определённый инструмент коммуникация на основа социальный и психологический потребностей. [16]. очевидно, что чат-бот иметь ряд выраженный особенностей, который привлекать человек в момент выбор между они и общение с регистратура поликлиника (ить другой релевантный сервисом). так люди, предпочитать воспользоваться взаимодействие с роботом, не хотеть тратить много время на диалог (и с интуитивный точка зрение кажется, что чат-бот решить проблема быстрее, чем оператор call-центра). соответственно, при общение с ботами, человек предпочитать выдавать как можно маленький информация и они не нравиться прямой и односложный вопросы. быть провести исследование [17], где прослеживаться прямой зависимость между тем, насколько быстро бот понимать проблема пользователь и оценка степень стиль виртуальный ассистент с точка зрение социальный ориентированности. иной словами, чат-бот тем большой напоминать человек с точка зрение эмпатия и полезности, чем маленький задавать вопросов. следовательно, разрабатывать система должный собирать как можно маленький информации, но с другой стороны, ставить правильный диагнозы. для это можно отобрать несколько симптомов, который описывать каждый болезнь по отдельности. предложить метод определение болезнь по сообщение пользователь детально рассматриваться на рисунок 3. рис. 3. метод определение болезнь пациент во-первых, симптом сначала нужно предобработать и векторизовать. затем решаться задача многоклассовый классификация с помощь модель логистический регрессии. после рассматриваться важность (коэффициент) каждый отдельный признак для определение заболевания. далее, для каждый болезнь по отдельности, можно отобрать несколько наиболее важный признак и обучить на они заново классификатор. признаки, который мы отберем, нужно быть искать в ответ пользователей. если модель не быть уверить в ответе, то можно спросить у пользователя, есть ли у он определённый симптом, который ранее не упоминаться и повторить работа модель уже с обновить векторами. далее с сторона алгоритм подготавливаться отчет, объясняющий, почему предсказать конкретный заболевание. 4. результат лемматизация текст для русский язык проводиться с помощь библиотека pymorphy2. после стратифицировать разделение на 70% и 30% в тренировать и валидационный выборку, доля верный ответ описать выше алгоритм составить 83%. для решение задача предсказание болезнь по набор симптомов, векторизация проводиться с помощь bag-of-words для уно- и биграм. рассматриваться только факт вхождение токен (рис. 4) в текст. рис. 4. токен симптом весь быть найти 3632 токенов. дать быть разделить в соотношение 70% и 30%, как тренировочный и валидационный выборка соответственно. точность модели, как доля верный ответов, составить 83.7%. быть отобрать по 5 наиболее важный признак для каждый заболевание (рис. 5). рис. 5. коэффициент наличие симптом для каждый болезнь в итог токен стать 25, а точность модель упасть до 69.8%. тем не менее, при применение один уточнение (добавление наиболее важный признака, который на данный момент отсутствовать в тексте), точность модель составить 86.0%. 5. рассуждение предложить алгоритм определение заболевание быть применить в контрольный выборка для 130 симптомов. к сожалению, даже с применение один уточнения, модель иметь относительно низкий точность (86%). это связать с тем, что алгоритм векторизации, представить нами, учитывать только вхождение токенов. кроме того, применяться один из самый простой алгоритм предсказание (logistic regression). тем не менее, дать допущение позволять за малый количество данных, провести детальный интерпретацию. например, для болезнь «холицестит» классификатор иметь большой вес перед симптом «вздутие» (1.53), но с другой стороны, отрицательный вес перед признак «боль живот» (-0.83) (рис. 4). это говорить о том, что если у пациент наблюдаться боль в животе, то, скорее всего, это не «холицестит», и наоборот. данный факт позволять составлять человеко-читаемый отчет, благодаря которому, пациент и врач быть доверять работа модель и смочь незамедлительно начать процесс лечения. возможно, можно увеличить точность модель использовать модель случайный деревьев. так, случайный лес (max_depth=13) с один уточнение показывать точность 91%. проблемность этот стратегия заключаться в интерпретация результат (путь к лист с предсказание и выбор глубина дерева). в будущее планироваться увеличить количество разный заболевание и тестовый выборка к ним. для определение симптом по текст планироваться добавить поиск конструкций, а не вхождение триггерный токенов, тем самый достигнуть точность предсказание в 93-97%.