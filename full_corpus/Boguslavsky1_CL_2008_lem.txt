и.м. богуславский, л.л. иомдин, д.р. валеев, в.г. сизов синтаксический анализатор система этап и он оценка с помощь глубоко разметить корпус русский текст 1. вводный замечание синтаксический анализатор, или парсер, разработать группа учёный институт проблема передача информация им. а.а. харевич (иппи ран) для многоцелевой лингвистический процессор этап-3 в значительный мера опираться на лингвистический теория «смысл  текст» и.а. мельчук и в первый очередь на синтаксический компонент этот теории. в дать работа рассматриваться синтаксический анализатор для русский языка. в рамка лингвистический процессор этап-3 он использоваться в ряд приложений, включая русско-английский машинный перевод, а также в система разметка синтаксически аннотировать корпус русский текст синтагрус. 2. основной компонент парсер этап-3 2.1. морфологический анализатор и предсинтаксический модуль на стадия анализ текст наш парсер начинать работа после того, как морфологический анализатор, который обрабатывать каждый отдельный слово предложения, закончить обработка весь текста, предложение за предложение и выдать морфологический структура (морфс) для каждый предложения. морфс – это упорядочить последовательность весь слово предложения, причём каждый элемент такой последовательность содержать имя лексема (лемму), атрибут часть речь и набор словоизменительный морфологический характеристик. если словоформа лексичёска и/ить морфологически неоднозначна, она представить в морфс набор объектов, именовать омонимами, каждый из который состоять из леммы, атрибут часть речь и набор морфологический характеристик. например, предложение (1) иностранный рабочий часто плохо знать русский язык. получить следующий морфс: 1.1 иностранный a, им, мн 1.2 иностранный a, вин, мн, неод 2.1 рабочий1 a, им, мн 2.2 рабочий1 a, вин, мн, неод 2.3 рабочий2 s, им, мн, муж, ода 3.1 частый a, ед, кр, среда 3.2 часто adv 4.1 плохой a, ед, кр, среда 4.2 плохо adv 5.1 знать1 v, непрош, мн, изъяв, 3-л, несова 6.1 русский1 a, им, ед, муж 6.2 русский1 a, вин, ед, муж, неод 6.3 русский2 s, им, ед, муж, ода 7.1 язык1. s, им, ед, муж, неод 7.2 язык1. s, вин, ед, муж, неод 7.3 язык2. s, им, ед, муж, неод 7.4 язык2. s, вин, ед, муж, неод 7.5 язык3 . s, им, ед, муж, ода здесь s – существительное, a – прилагательное, v – глагол, adv – наречие, од/неод – характеристика одушевленности/неодушевленности, им/вино – именительный/винительный падеж, ед/мн – единственное/множественный число, изъять – изъявительный наклонение, 3-л – 3-й лицо, несова – несовершенный вид, кр – краткий форма. из дать морфс видно, что всё словоформа предложение (1), за исключение слово 5 (знают), неоднозначны. так, слово 6 (русский) лексичёска неоднозначно и мочь выступать как в качество прилагательного, так и в качество существительного. слово 3 (часто) и 4 (плохо) мочь интерпретироваться либо как наречия, либо как прилагательное в краткий форме, в то время как слово 7 (язык) иметь три лексический значения: ‘речь’, ‘орган’ и ‘пленный’, где два первых, быть неодушевленными, иметь совпадать словоформа для именительный и винительный падежей. такой образом, предложение (1), состоять из 7 слов, обладать морфс, который содержать 18 омонимов. парсер система этап-3 не располагать отдельный тэггером, который бы определять часть речь слов, входящий в предложение. тем не менее в система этап-3 иметься небольшой предсинтаксический модуль, который частично разрешать лексический и морфологический неоднозначность, учитывать близкий линейный контекст. при работа над предложение (1) данный модуль удалить лишь 2 омоним и уменьшить вес (≈ эмпирический оценка вероятность того, что именно этот омоним оказаться в результирующий синтаксический структуре) ещё фразе) одного. в средний предсинтаксический модуль осуществлять чистка порядок 20% омоним предложения. 2.2. парсер синтаксический анализатор получать на вход морфс обрабатывать предложение и строить для она дерево зависимостей, использовать набор синтаксический правило (синтагм). каждый синтагма соответствовать некоторый минимальный синтаксический конструкция и устанавливать один гипотетический именовать направить синтаксический связь. в настоящий время в система этап-3 использоваться для русский языка. 65 различный тип синтаксический отношение (синто), имя который и помечаться синтаксический связь в дерево зависимостей. например, предикативный синто в прототипический случай эксплицировать синтаксический зависимость подлежащее [y] от личный глагол-сказуемое [x] (художник [y] видеть [x]); 1-й комплетивный синто отображать отношение между предикат [x] в качество синтаксический хозяин и слово [y], заполнять он второй валентность, в качество слуга (видеть [x] свет [y]); определительный синто, опять-таки в прототипический случае, характеризовать зависимость прилагательное-определение [y] от определять существительное [x] (нежный [y1] голубой [y2] свет [x]) и т.д. алгоритм синтаксический анализ использовать синтагма для того, чтобы построить всё возможный гипотетический связь между слово предложения, а затем применять к получить набор связь система различный фильтров, который удалять лишний связь такой образом, чтобы остаться связь вместе с узел формировать дерево зависимость (разметить ориентировать связный граф без циклов). в процесс анализ парсер обращаться к так называть комбинаторный словарь русский языка, который в настоящий время насчитывать свыше 100 тыс. статей, содержать богатый лингвистический информация о слово (их синтаксический признаки, семантический признак (дескрипторы), модель управление и др. заметный часть связь в дерево зависимостей, соответствовать некоторый русский тексту, являться непроективный . на снимка экран (рис. 1) представить синтаксический дерево зависимость для предложение (2) иностранный газета можно купить в киоск на вокзале, построить синтаксический анализатор этап-3 (цифра при имя синтаксический отношение означать номер синтагм). нетрудно заметить, что в это дерево 1-й комплетивный связь, идти от глагол покупать к существительное газета, являться непроективной. важный особенность наш парсер являться он способность производить множество разбор для один и тот же предложения. хотя разработчик парсер прикладывать всё усилие к тому, чтобы первый порождать парсер синтаксический разбор предложение быть правильный и максимально адекватный обрабатывать предложению, это не всегда получается. если первый из построить парсер структура оказываться неудовлетворительный или если мы хотеть получить другой структура для реально неоднозначный предложения, мы мочь снова обратиться к парсер и поручить он произвести альтернативный разбор предложения. такой процедура мочь осуществляться как автоматически, так и в интерактивный режим . в целое работа парсер этап-3 мочь считаться робастной: в плохой случае, если для обрабатывать предложение не удаваться получить адекватный дерево зависимостей, «безотказность» парсер достигаться за счёт того, что некоторый из слово предложение соединяться в аварийный порядок фиктивный синто. словам, который не быть найти в словаре, если они не удаваться надёжно отнести к какой-либо конкретный часть речи, приписываться атрибут часть речь nid (неопознанный слово). как правило, в результирующий дерево зависимость каждый узел соотноситься с слово анализировать предложения. исключение составлять тот случаи, когда слово образовать с помощь морфологический процесс словосложение и не иметь собственный словарный статья в комбинаторный словарь (восьмитомный, стодвадцатилетний и т.д.). для такой слово парсер, генерировать два или несколько узел в дерево зависимостей. 3. корпус «синтагрус» парсер система этап-3 активно использоваться для построение первый аннотировать корпус русский текст синтагрус . этот корпус, насчитывать свыше 35 тысяча стать (около 500 тыс. слов), строиться в два этапа: сначала каждый предложение обрабатываться парсером, а затем получить синтаксический структура вручную редактироваться лингвистами-экспертами. на стадия ручной правка в дерево зависимость вноситься улучшения, который не мочь быть достигнуть автоматически. в частности, за счёт введение дополнительный узел в синтаксический структура более прозрачный оказываться представление предложение с сложный эллипсисом. так, предложение я приехать из москвы, а он из мадрид обзавестись ещё один глагол приехать между слово он и из и тем самый результирующий дерево зависимость принять более изящный вид. такой дополнительный узел (в наш случай глагол приехал) помечаться как фантом. в данный исследование синтагрус использоваться в качество эталон («золотой стандарта») при оценка работа синтаксический анализатора). 4. метрика оценка мы использовать два тип оценки: общий оценка и оценка, основать на штрафах. оба оценка коротко рассматриваться ниже. 4.1. общий оценка 4.1.1. лексико-грамматический оценка (лг) в раздел 2 уже отмечалось, что система этап-3 не иметь отдельный модуль для определение частеречной принадлежность слово обрабатывать предложения. дизамбигуация лексико-грамматический характеристика выполняться параллельно с установление синтаксический связей. представляться поэтому полезный оценивать правильность установление атрибут часть речь в процесс синтаксический анализа. производиться следующий вычисления: сначала, для каждый опознать слово l вычисляться лексико-грамматический коэффициент , где n1 – число корректно установленный характеристика слово l, а n2 – общий число характеристика слово l. лексико-грамматический оценка определяться как сумма весь лексико-грамматический коэффициент kl предложение s, делить на общий число слово в это предложении. 4.1.2. синтаксический оценка слово 1. оценка правильность установление хозяев: доля слов, для который синтаксический хозяин (ить он отсутствие) быть установить корректно (=uas) . 2. оценка правильность установление связей: доля слов, для который наличие корректный синтаксический связь или отсутствие хозяин быть установить верно, однако, связь мочь исходить из неверный хозяина. 3. оценка правильность установление хозяин и связей: доля слов, для который верно установить как хозяин, так и синтаксический связь (= las) . 4. статистика по разный тип связей: для каждый тип связь вычисляться точность, полнота и f-мера. 4.1.3. синтаксический оценка предложение дать оценка мочь вычисляться как для весь корпуса, так и для предложение определённый длины, например, для предложение с длина <10 слов, 10–20 слов, 20–30 слово и т.д. 1. оценка вершины: доля предложений, для который вершина быть установить правильно. 2. оценка правильность скелета: доля предложений, для который всё связь быть установить верно, не учитывать они тип . 3. оценка строгий правильность структуры: доля предложений, для который всё связь быть установить верно. 4. оценка достижимость эталонный структуры: доля предложений, для который эталонный синтаксический структура достигаться на первый n альтернативный разборах. оценка достижимость эталонный структура (дэс) являться важный характеристика парсера. как отмечаться в раздел 2.2, парсер этап-3 мочь произвести всё возможный разбор предложения, который грамматически верны. однако порядок выдача такой альтернатива зависеть от вес альтернативы, динамически устанавливать парсером. иногда парсер мочь получить эталонный структуру, но соответствовать она разбор предложение находиться не в число первый альтернатив. такой образом, полезно быть бы знать доля предложений, в разбор который можно отыскать альтернативный структуру, эквивалентный эталонной. этот оценка помогать определить, сколько некорректный разбор быть получить из-за недостаток грамматики, а сколько – из-за несовершенство алгоритм выбор альтернатив. оценка дэс позволять также узнать, каков доля предложений, для который можно получить альтернативный структуру, эквивалентный эталонной, если принимать в внимание только первый n альтернатив; а также другой дополнительный информацию. 4.2. оценка, основать на штраф дать оценка основываться на разный родиться возможный отклонение разбор (р) от эталонный структура (эс). ниже перечисляться этот тип расхождений: 4.2.1. расхождение токенизация 1. в эталонный структура присутствовать фантом, для который нет эквивалент в (р) (см. раздел 2.2 выше). 2. цепочка символ исходный текст по-разному члениться на токен в эс и р. такой ситуация мочь возникнуть, когда неоднословный выражение (например, фразеологический единица тип всё равно) представить в корпус как один слово, а парсер разбираться как несколько слов. здесь возможный два вариант событий: (а) словарный разница между предложение мочь быть учесть автоматически, и соответствовать многословный узел в эс быть соответствовать несколько узел в р (инъективный отображение эс в р и сюръективный отображение р в эс) и (б) когда отображение установить не удается. привести по пример на оба ситуации. примеры: случай (а): слово антитерроризм представить один узел в эс, но отображаться два узел в р (анти- и терроризм). парсер не найти словарный статья для слово антитерроризм, поскольку оно отсутствовать в словаре, зато смочь разложить это слово на два элемента, связанный (справа налево) композитный синто. в это случае, антитерроризм в эс инъективный отображаться в р и соотноситься с слово терроризм для дальнейший сравнения. случай (б): единица тип как бы, который по тем или иной соображение быть слить в единый слово редактор корпуса, но который не мочь быть однозначно сопоставить с какой либо из слово словаря. 4.2.2. лексико-грамматический расхождение между узел р и эс с одинаковый токен 1. слово в р не распознано, для он нет словарный статья (оно получать частеречной характеристика nid), и оно не мочь быть разложить на элемент с помощь словообразовательный морфологии. 2. узел в р и эс иметь разный характеристика часть речи, например, что в эталон случай квалифицироваться как союз, а в парсер – как (местоименное) существительное. 3. узел в р и эс обладать несовпадающий набор морфологический характеристика при совпадение атрибут часть речь (см. раздел 2.1). 4. узел в р и эс иметь разный имя лексема (леммы), но они часть речь совпадают. например, словоформа находиться мочь быть интерпретировать двояко – как глагол, находиться, обозначать ситуация местонахождения, и как форма страдательный залог глагол находить. 4.2.3. синтаксический расхождение между узел р и эс с одинаковый токен всё синтаксический расхождение являться взаимоисключающими: 1. в узел структура в р идти фиктивный связь (в эталон фиктивный связей, разумеется, быть не может). 2. узел являться вершина в эc и не являться вершина в р, или наоборот. 3. в эс некоторый узел x подчиняться узел z по отношение r, отсутствовать в список отношение парсера. такой мочь произойти, поскольку корпус синтагрус содержать определённый количество специфический конструкций, не предусмотреть даже весьма полный грамматика этапа-3. 4. в эс узел x подчиняться узел z по отношение r, а в р он подчиняться узел z, но не по отношение r. 5. в эс узел x подчиняться узел z по отношение r, а в р он подчиняться по отношение r, но не узел z. 6. в эс узел x подчиняться узел z по отношение r, а в р он не подчиняться ни узел z, ни по отношение r. для каждый тип расхождение предусмотреть свой уровень штрафной баллов. такой образом, мы мочь вычислять штраф узлов, разбор предложение и корпусов. при это мочь быть использовать два тип оценки. ненормализованный оценка очень простой и удобный для сравнение результатов, получить на один и тот же корпус в разный время или при разный настройка алгоритма. в частности, такой оценка корпус мочь вычисляться путём суммирование весь штрафов, приписать он предложениям. нормализовать оценка позволять сравнивать результаты, получить на разный корпусах. она вычисляться следующий образом: сначала для каждый узел вычисляться штраф, который делиться на максимальный штраф, который этот узел мочь получить, затем всё получить такой образ нормализовать штраф узел предложение суммируются, а сумма делиться на общий количество узел предложения; наконец, вычисляться сумма весь нормализовать штраф предложение корпуса, который делиться на общий число предложение в корпусе. кроме генерирование общий штраф для узла, предложение и корпуса, можно также определить число конкретный тип ошибок, который позволять разработчик парсер оценить точность обработка для специфический синтаксический конструкций. привести пример такой ошибок: • ошибка в установление актант существительного, прилагательного, наречие и глагол в личной/неличный форме; • ошибка в установление подлежащее в безглагольный предложение (он прав, отец на море, я замужем и т.д); • ошибка в установление неактантный подчинительный связи; • ошибка в установление сочинительный конструкции; • ошибка в установление служебный связи. синтаксический модель, который лежать в основа парсер система этап-3, содержать близкие, хотя и но тождественный тип синтаксический отношений. например, для описание определительный конструкция использоваться два синто: определительный и описательноопределительное. представляться естественный попытаться объединить близкий тип зависимость в один гипергруппа для того, чтобы добиться увеличение параметр точность синтаксический анализа. программа оценка позволять оценить эффект объединение такой родиться без внесение сложный изменение в правила. в частности, этот программа мочь быть настроить такой образом, чтобы игнорировать некоторый тип синтаксический расхождений. например, возможный оценка разбор корпус при условии, что отношение r1 и r2 рассматриваться как эквивалентные. 5. оценка парсер этап-3 ниже приводиться общий сведение о оценка парсера, получить для фрагмент корпус синтагрус. данный фрагмент представлять себя всё разметить тексты, войти в корпус в 2007 г. фрагмент содержать 66 401 слово в 4676 предложениях: • оценка лексико-грамматический правильности: 0,971; • оценка правильность установление вершины: 0,868; • оценка правильность установление хозяин и связи: 0,847; • оценка правильность скелета: 0,573; • оценка правильность структуры: 0,253. информация о оценка достижимость эталонный структура приводиться в табл. 1. здесь мчать означать задать максимальный число альтернатив, который структура мочь использовать при поиск эталонный структура среди свой альтернативный разборов, дэс – достижимость эталонный структура или доля структур, среди альтернативный разбор который быть найти эталонный структура, пмчать – доля неудачный предложений, для который быть превысить лимит максимальный число альтернатив, указанный в столбец мча, пва – доля неудачный предложений, для который быть перебрать всё возможный альтернатива и среди который эталонный структура не оказалось, сон – средний номер альтернатива или, другой словами, средний позиция успешно найти эталонный структура в стек альтернативный разбор предложения. насколько мы известно, на сегодняшний день не существовать подобный исследование русский парсер с результат который мы бы мочь сравнить получить данные. единственный исключение являться автоматический (data-driven) maltparser, создать и. нивре, обучать и контрольный выборка для обучение и оценка который быть создать на основа тот же корпус синтагрус . ясно также, что результат работа оба парсер являться один и тот же эталонный структура, тем самый оба парсер находиться в одинаковый условиях. однако прямой сопоставление результат работа парсер система этап-3 с результат парсер maltparser вряд ли быть корректным, поскольку исходный дать этот парсер довольно сильно различаются. парсер система этап-3 обрабатывать непрепарировать текст, в то время как maltparser начинать свой работа после того, как проработать тэггера часть речи. ввиду того, что у парсер система этап-3 такой тэггера нет, исходный дать являться непосредственно эталонный предложения. это означает, что для парсер maltparser всё расхождение в токенизация и расхождение лексико-грамматический характер между эталонный структура и предложение (см. раздел 4.2) быть уже устранены. оценить влияние такой расхождение на работа пар-сера этап-3 довольно трудно. тем не менее, результат работа оба парсер можно сравнить, и это сравнение выглядеть следующий образом: • оценка правильность установление хозяина: 0,884 (этап) vs. 0,891 (maltparser); • оценка правильность установление хозяин и связи: 0,844 (этап) vs. 0,823 (maltparser). что касаться исследование парсер для другой языков, то можно сравнить оценка правильность скелет структура наш парсер для русский язык с данными, получить для парсер английский язык : 6. анализ ошибка как явствовать из табл. 3, из 30 синтаксический отношение представить в корпусе, 7 обладать f-мера превышать 0,9, а 6 отношение обладать f-мера ниже 0,7. ниже на краткий пример иллюстрироваться оба группа отношение (хозяин обозначаться через x, а слуга – через y). 6.1. отношение высокий точности: • инфинитивно-союзный (чтоба [x] встретить[y] друга) • квазиагентивный (придирка [x] со_сторона [y] домовладельца) • количественный (пять [y=им] день [x=род]) • определительный (тереть опытный [y=мн] работник [x=ед]) • пассивно-аналитический (быть [x] исключить [y]) • предолжной (в [x] длинный список [y]) • элективный (самай интересный [x] из [y] книг) 6.2. отношение невысокий точности: • 4-й комплетивный (арендовать [x] на [y] три года) • атрибутивный (дом [x] у [y] дороги) • длительный (он спать [x] пять час [y] в сутки) • пролептический (сомнение [x], они [y] никуда не исчезли) • разъяснительный (мы купить всё [x] - хлеб [y], сыр, зелень) • сентенциально-сочинительный (онить не прийти [x], и [y] мы остаться одни) детальный анализ ошибка мы оставлять за предел дан-ной статья по соображение места. прокомментируем, однако, один тип конструкций, для который число ошибка оказаться достаточно заметным. это атрибутивный конструкции, состоять из существительное и несогласованный определение при нем. известно, что атрибутивный синто сложно установить, поскольку формальный характеристика отсутствуют, а потенциальный хозяин мочь быть очень много. большинство случаев, когда атрибутивный связь оказываться установленный неверно, относиться к следующий ситуациям: • атрибутивный связь установить вместо обстоятельственный связи, идти от глагола; • атрибутивный связь установить вместо атрибутивный связи, идти от более далёкий существительного; • атрибутивный связь установить вместо аппозитивный связи, в случае, если подчинённый узел являться неопознанный (nid) имя собственным, отсутствовать в словаре. последний случай неправильный установление атрибутивный связь стоить прокомментировать подробнее. наличие неопознанный слово значительно сокращать полнота (recall) атрибутивный связь и точность (precision) аппозитивный связи. такой положение дело можно улучшить, включить на стадия предсинтаксический обработка модуль распознавание имя собственных. другой стратегия улучшение являться улучшение правило угадывания, который должный определять морфологический форма слова, даже если оно отсутствовать в словаре. ещё один источник ошибка парсер – неравномерный словарный покрытие. в многий случай работать правило «незнание хороший полузнания», то есть хороший совсем не вводить целое семейство лексический единица в словарь, чем вводить они частично. представим, например, следующий типичный ситуацию, когда русский название города, скажем, красноярск, присутствовать в словаре, а соответствовать он прилагательное красноярский в словарь отсутствует. из-за специфический пересечение парадигма этот слово (онить иметь совпадать словоформа в структурно разный случаях: творительный падеж существительное совпадать с предложный падеж прилагательного) предложение тип (3) он работать на красноярский завод не быть правильно разобраны, поскольку прилагательное мочь быть интерпретировать как некий «отбиться от рук» существительное в творительный падеже. парсер же довольно трудно догадаться, что словоформа, обеспечить словарем, на сам дело представлять себя нечто совершенно другое, для что в словарь нет эквивалента. разбор для (3) быть бы намного правильнее, если бы в словарь отсутствовать всё семейство «красноярских» слов: в это случай в время обработка предложение возникнуть бы лишь локальный ошибка разбора, в противный же случае, когда в словарь иметься не всё элемент лексический класса, парсер просто не смочь построить сколько-нибудь адекватный структуру. заключение в статья представить парсер, который являться часть многофункциональный лингвистический процессор этап–3 и использоваться в ряд приложений. парсер быть разработать как для русского, так и для английский языков, но оценка работа парсер быть осуществить только на материал русский языка, в связь с наличие глубоко аннотировать корпус русский текст синтагрус. отличительный черта парсер являться наличие большой число тип синто, который позволять формально представить предложение любой сложность в вид дерево зависимостей. некоторый из этот синто встречаться довольно редко: так, в оценочный фрагмент корпус обнаружиться лишь 30 синто. для оценка использоваться различный метрики; один (основать на идея штрафов) применимый только для внутренний оценки, другой можно использовать для сравнение с другой парсерами. в качество основный направление дальнейший исследование автор видят: 1) улучшение правило для синто с низкий показателями, 2) разработка правило для обработка эллиптический конструкций, 3) улучшение алгоритм перебор альтернатив, 4) эксперименты, направить на создание гибридный парсера, включающего, наряду с правилами, элемент машинный обучения.